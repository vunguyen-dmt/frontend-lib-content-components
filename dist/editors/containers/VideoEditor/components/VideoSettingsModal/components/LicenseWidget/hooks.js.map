{"version":3,"file":"hooks.js","names":["_i18n","require","_messages","_interopRequireDefault","_redux","_licenses","_jsxRuntime","obj","__esModule","default","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","key","value","_toPropertyKey","configurable","writable","i","_toPrimitive","String","Symbol","toPrimitive","call","TypeError","Number","determineLicense","_ref","isLibrary","licenseType","licenseDetails","courseLicenseType","courseLicenseDetails","level","LicenseLevel","course","library","block","license","details","exports","determineText","_ref2","levelDescription","licenseDescription","jsx","FormattedMessage","messages","courseLevelDescription","courseLicenseDescription","libraryLevelDescription","libraryLicenseDescription","defaultLevelDescription","defaultLicenseDescription","onSelectLicense","_ref3","dispatch","LicenseTypes","allRightsReserved","actions","video","updateField","creativeCommons","attribution","noncommercial","noDerivatives","shareAlike","select","_default"],"sources":["../../../../../../../../src/editors/containers/VideoEditor/components/VideoSettingsModal/components/LicenseWidget/hooks.jsx"],"sourcesContent":["import { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport messages from './messages';\nimport { actions } from '../../../../../../data/redux';\nimport { LicenseLevel, LicenseTypes } from '../../../../../../data/constants/licenses';\n\nexport const determineLicense = ({\n  isLibrary,\n  licenseType,\n  licenseDetails,\n  courseLicenseType,\n  courseLicenseDetails,\n}) => {\n  let level = LicenseLevel.course;\n  if (licenseType) {\n    if (isLibrary) {\n      level = LicenseLevel.library;\n    } else {\n      level = LicenseLevel.block;\n    }\n  }\n\n  return {\n    license: licenseType || courseLicenseType,\n    details: licenseType ? licenseDetails : courseLicenseDetails,\n    level,\n  };\n};\n\nexport const determineText = ({ level }) => {\n  let levelDescription = '';\n  let licenseDescription = '';\n  switch (level) {\n    case LicenseLevel.course:\n      levelDescription = <FormattedMessage {...messages.courseLevelDescription} />;\n      licenseDescription = <FormattedMessage {...messages.courseLicenseDescription} />;\n      break;\n    case LicenseLevel.library:\n      levelDescription = <FormattedMessage {...messages.libraryLevelDescription} />;\n      licenseDescription = <FormattedMessage {...messages.libraryLicenseDescription} />;\n      break;\n    default: // default to block\n      levelDescription = <FormattedMessage {...messages.defaultLevelDescription} />;\n      licenseDescription = <FormattedMessage {...messages.defaultLicenseDescription} />;\n      break;\n  }\n\n  return {\n    levelDescription,\n    licenseDescription,\n  };\n};\n\nexport const onSelectLicense = ({\n  dispatch,\n}) => (license) => {\n  switch (license) {\n    case LicenseTypes.allRightsReserved:\n      dispatch(actions.video.updateField({\n        licenseType: LicenseTypes.allRightsReserved,\n        licenseDetails: {},\n      }));\n      break;\n    case LicenseTypes.creativeCommons:\n      dispatch(actions.video.updateField({\n        licenseType: LicenseTypes.creativeCommons,\n        licenseDetails: {\n          attribution: true,\n          noncommercial: true,\n          noDerivatives: true,\n          shareAlike: false,\n        },\n      }));\n      break;\n    default:\n      dispatch(actions.video.updateField({ licenseType: LicenseTypes.select }));\n      break;\n  }\n};\n\nexport default {\n  determineLicense,\n  determineText,\n  onSelectLicense,\n};\n"],"mappings":"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"}