{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_reactRedux","_redux","_hooks","_SelectionModal","_utils","_messages","_requests","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","VideoGallery","_ref","rawVideos","isLoaded","isFetchError","isUploadError","videos","hooks","buildVideos","handleVideoUpload","useEffect","length","galleryError","inputError","fileInput","galleryProps","searchSortProps","selectBtnProps","videoProps","handleCancel","modalMessages","confirmMsg","messages","selectVideoButtonlabel","titleMsg","titleLabel","uploadButtonMsg","uploadButtonLabel","fetchError","fetchVideosError","uploadError","uploadVideoError","jsx","children","isOpen","close","size","isFullscreenScroll","acceptedFiles","acceptedImgKeys","exports","propTypes","PropTypes","shape","isRequired","bool","mapStateToProps","state","selectors","app","requests","isFinished","requestKey","RequestKeys","fetchVideos","isFailed","uploadVideo","mapDispatchToProps","_default","connect"],"sources":["../../../../src/editors/containers/VideoGallery/index.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { selectors } from '../../data/redux';\nimport hooks from './hooks';\nimport SelectionModal from '../../sharedComponents/SelectionModal';\nimport { acceptedImgKeys } from './utils';\nimport messages from './messages';\nimport { RequestKeys } from '../../data/constants/requests';\n\nexport const VideoGallery = ({\n  // redux\n  rawVideos,\n  isLoaded,\n  isFetchError,\n  isUploadError,\n}) => {\n  const videos = hooks.buildVideos({ rawVideos });\n  const handleVideoUpload = hooks.handleVideoUpload();\n\n  useEffect(() => {\n    // If no videos exists redirects to the video upload screen\n    if (isLoaded && videos.length === 0) {\n      handleVideoUpload();\n    }\n  }, [isLoaded]);\n  const {\n    galleryError,\n    inputError,\n    fileInput,\n    galleryProps,\n    searchSortProps,\n    selectBtnProps,\n  } = hooks.videoProps({ videos });\n  const handleCancel = hooks.handleCancel();\n\n  const modalMessages = {\n    confirmMsg: messages.selectVideoButtonlabel,\n    titleMsg: messages.titleLabel,\n    uploadButtonMsg: messages.uploadButtonLabel,\n    fetchError: messages.fetchVideosError,\n    uploadError: messages.uploadVideoError,\n  };\n\n  return (\n    <div>\n      <SelectionModal\n        {...{\n          isOpen: true,\n          close: handleCancel,\n          size: 'fullscreen',\n          isFullscreenScroll: false,\n          galleryError,\n          inputError,\n          fileInput,\n          galleryProps,\n          searchSortProps,\n          selectBtnProps,\n          acceptedFiles: acceptedImgKeys,\n          modalMessages,\n          isLoaded,\n          isUploadError,\n          isFetchError,\n        }}\n      />\n    </div>\n  );\n};\n\nVideoGallery.propTypes = {\n  rawVideos: PropTypes.shape({}).isRequired,\n  isLoaded: PropTypes.bool.isRequired,\n  isFetchError: PropTypes.bool.isRequired,\n  isUploadError: PropTypes.bool.isRequired,\n};\n\nexport const mapStateToProps = (state) => ({\n  rawVideos: selectors.app.videos(state),\n  isLoaded: selectors.requests.isFinished(state, { requestKey: RequestKeys.fetchVideos }),\n  isFetchError: selectors.requests.isFailed(state, { requestKey: RequestKeys.fetchVideos }),\n  isUploadError: selectors.requests.isFailed(state, { requestKey: RequestKeys.uploadVideo }),\n});\n\nexport const mapDispatchToProps = {};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoGallery);\n"],"mappings":"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"}