{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_classnames","_SelectableBoxSet","_FormCheckboxSetContext","_FormRadioSetContext","_utils","_jsxRuntime","_excluded","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","key","value","_toPropertyKey","configurable","writable","_toPrimitive","String","Symbol","toPrimitive","TypeError","Number","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","INPUT_TYPES","SelectableBox","React","forwardRef","_ref","ref","type","checked","children","isIndeterminate","isInvalid","onClick","onFocus","inputHidden","className","props","inputType","getInputType","radioValue","useRadioSetContext","checkboxValues","useCheckboxSetContext","isChecked","includes","inputRef","useRef","input","createElement","hidden","tabIndex","onChange","useEffect","current","onclick","jsxs","role","onKeyPress","click","classNames","propTypes","PropTypes","node","isRequired","oneOfType","string","number","bool","oneOf","func","defaultProps","undefined","Set","SelectableBoxSet","_default","exports"],"sources":["../../../../src/editors/sharedComponents/SelectableBox/index.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport SelectableBoxSet from './SelectableBoxSet';\nimport { useCheckboxSetContext } from './FormCheckboxSetContext';\nimport { useRadioSetContext } from './FormRadioSetContext';\nimport { getInputType } from './utils';\n\nconst INPUT_TYPES = [\n  'radio',\n  'checkbox',\n];\n\nconst SelectableBox = React.forwardRef(({\n  type,\n  value,\n  checked,\n  children,\n  isIndeterminate,\n  isInvalid,\n  onClick,\n  onFocus,\n  inputHidden,\n  className,\n  ...props\n}, ref) => {\n  const inputType = getInputType('SelectableBox', type);\n  const { value: radioValue } = useRadioSetContext();\n  const { value: checkboxValues = [] } = useCheckboxSetContext();\n\n  const isChecked = () => {\n    switch (type) {\n      case 'radio':\n        return radioValue === value;\n      case 'checkbox':\n        return checkboxValues.includes(value);\n      default:\n        return radioValue === value;\n    }\n  };\n\n  const inputRef = useRef(null);\n  const input = React.createElement(inputType, {\n    value,\n    checked,\n    hidden: inputHidden,\n    ref: inputRef,\n    tabIndex: -1,\n    onChange: () => {},\n    ...(type === 'checkbox' ? { ...props, isIndeterminate } : { ...props }),\n  }, null);\n\n  useEffect(() => {\n    if (onClick && inputRef.current) {\n      inputRef.current.onclick = () => onClick(inputRef.current);\n    }\n  }, [onClick]);\n\n  return (\n    <div\n      role=\"button\"\n      onKeyPress={() => inputRef.current.click()}\n      onClick={() => inputRef.current.click()}\n      onFocus={onFocus}\n      className={classNames('pgn__selectable_box', className, {\n        'pgn__selectable_box-active': isChecked() || checked,\n        'pgn__selectable_box-invalid': isInvalid,\n      })}\n      tabIndex={0}\n      ref={ref}\n      {...props}\n    >\n      {input}\n      {children}\n    </div>\n  );\n});\n\nSelectableBox.propTypes = {\n  /** Content of the `SelectableBox`. */\n  children: PropTypes.node.isRequired,\n  /** A value that is passed to the input tag. */\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  /** Controls whether `SelectableBox` is checked. */\n  checked: PropTypes.bool,\n  /** Indicates the input type: checkbox or radio. */\n  type: PropTypes.oneOf(INPUT_TYPES),\n  /** Function that is called when the `SelectableBox` is clicked. */\n  onClick: PropTypes.func,\n  /** Function that is called when the `SelectableBox` is focused. */\n  onFocus: PropTypes.func,\n  /** Controls display of the input (checkbox or radio button) on the `SelectableBox`. */\n  inputHidden: PropTypes.bool,\n  /** Indicates a state for the 'checkbox' `type` when `SelectableBox` is neither checked nor unchecked. */\n  isIndeterminate: PropTypes.bool,\n  /** Adds errors styles to the `SelectableBox`. */\n  isInvalid: PropTypes.bool,\n  /** A class that is appended to the base element. */\n  className: PropTypes.string,\n};\n\nSelectableBox.defaultProps = {\n  value: undefined,\n  checked: false,\n  type: 'radio',\n  onClick: () => {},\n  onFocus: () => {},\n  inputHidden: true,\n  isIndeterminate: false,\n  isInvalid: false,\n  className: undefined,\n};\n\nSelectableBox.Set = SelectableBoxSet;\nexport default SelectableBox;\n"],"mappings":"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"}