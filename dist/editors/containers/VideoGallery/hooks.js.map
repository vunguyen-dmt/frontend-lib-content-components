{"version":3,"file":"hooks.js","names":["_react","_interopRequireDefault","require","_reactRedux","_module","_interopRequireWildcard","_messages","appHooks","_redux","_analyticsEvt","_utils","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","navigateCallback","navigateTo","exports","useSearchAndSortProps","searchString","setSearchString","React","useState","sortBy","setSortBy","sortKeys","dateNewest","filterBy","setFilterBy","hideSelectedVideos","setHideSelectedVideos","handleFilter","includes","item","onSearchChange","e","clearSearchString","onSortClick","sortMessages","onFilterClick","showSwitch","switchMessage","messages","hideSelectedCourseVideosSwitchLabel","onSwitchClick","filterListBySearch","_ref","videoList","_ref2","displayName","toLowerCase","filterListByStatus","_ref3","statusFilter","_ref4","status","map","filterKeys","filterListByHideSelectedCourse","_ref5","filterList","_ref6","videos","filteredList","module","sort","sortFunctions","useVideoListProps","_ref7","searchSortProps","highlighted","setHighlighted","showSelectVideoError","setShowSelectVideoError","showSizeError","setShowSizeError","learningContextId","useSelector","selectors","app","blockId","galleryError","show","dismiss","message","selectVideoError","inputError","fileSizeError","galleryProps","galleryIsEmpty","searchIsEmpty","displayList","onHighlightChange","emptyGalleryLabel","showIdsOnCards","height","selectBtnProps","onClick","useVideoUploadHandler","useCancelHandler","destination","returnUrl","analytics","analyticsEvent","analyticsEvt","videoGalleryCancelClick","buildVideos","_ref8","rawVideos","rawVideoList","values","video","id","edx_video_id","client_video_id","externalUrl","course_video_image_url","dateAdded","Date","created","locked","thumbnail","statusBadgeVariant","getstatusBadgeVariant","duration","transcripts","_ref9","failed","uploading","processing","useVideoProps","_ref10","fileInput","click","_default"],"sources":["../../../../src/editors/containers/VideoGallery/hooks.js"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport * as module from './hooks';\nimport messages from './messages';\nimport * as appHooks from '../../hooks';\nimport { selectors } from '../../data/redux';\nimport analyticsEvt from '../../data/constants/analyticsEvt';\nimport {\n  filterKeys, sortFunctions, sortKeys, sortMessages,\n} from './utils';\n\nexport const {\n  navigateCallback,\n  navigateTo,\n} = appHooks;\n\nexport const useSearchAndSortProps = () => {\n  const [searchString, setSearchString] = React.useState('');\n  const [sortBy, setSortBy] = React.useState(sortKeys.dateNewest);\n  const [filterBy, setFilterBy] = React.useState([]);\n  const [hideSelectedVideos, setHideSelectedVideos] = React.useState(false);\n\n  const handleFilter = (key) => () => {\n    if (filterBy.includes(key)) {\n      setFilterBy(filterBy.filter(item => item !== key));\n    } else {\n      setFilterBy([...filterBy, key]);\n    }\n  };\n\n  return {\n    searchString,\n    onSearchChange: (e) => setSearchString(e.target.value),\n    clearSearchString: () => setSearchString(''),\n    sortBy,\n    onSortClick: (key) => () => setSortBy(key),\n    sortKeys,\n    sortMessages,\n    filterBy,\n    onFilterClick: handleFilter,\n    showSwitch: false,\n    hideSelectedVideos,\n    switchMessage: messages.hideSelectedCourseVideosSwitchLabel,\n    onSwitchClick: () => setHideSelectedVideos(!hideSelectedVideos),\n  };\n};\n\nexport const filterListBySearch = ({\n  searchString,\n  videoList,\n}) => (\n  videoList.filter(({ displayName }) => displayName.toLowerCase()\n    .includes(searchString.toLowerCase()))\n);\n\nexport const filterListByStatus = ({\n  statusFilter,\n  videoList,\n}) => {\n  if (statusFilter.length === 0) {\n    return videoList;\n  }\n  return videoList.filter(({ status }) => statusFilter.map(key => filterKeys[key])\n    .includes(status));\n};\n\nexport const filterListByHideSelectedCourse = ({ videoList }) => (\n  // TODO Missing to implement this\n  videoList\n);\n\nexport const filterList = ({\n  sortBy,\n  filterBy,\n  searchString,\n  videos,\n}) => {\n  let filteredList = module.filterListBySearch({\n    searchString,\n    videoList: videos,\n  });\n  filteredList = module.filterListByStatus({\n    statusFilter: filterBy,\n    videoList: filteredList,\n  });\n  filteredList = module.filterListByHideSelectedCourse({\n    videoList: filteredList,\n  });\n  return filteredList.sort(sortFunctions[sortBy in sortKeys ? sortKeys[sortBy] : sortKeys.dateNewest]);\n};\n\nexport const useVideoListProps = ({\n  searchSortProps,\n  videos,\n}) => {\n  const [highlighted, setHighlighted] = React.useState(null);\n  const [\n    showSelectVideoError,\n    setShowSelectVideoError,\n  ] = React.useState(false);\n  const [\n    showSizeError,\n    setShowSizeError,\n  ] = React.useState(false);\n  const filteredList = module.filterList({\n    ...searchSortProps,\n    videos,\n  });\n  const learningContextId = useSelector(selectors.app.learningContextId);\n  const blockId = useSelector(selectors.app.blockId);\n  return {\n    galleryError: {\n      show: showSelectVideoError,\n      set: () => setShowSelectVideoError(true),\n      dismiss: () => setShowSelectVideoError(false),\n      message: messages.selectVideoError,\n    },\n    // TODO We need to update this message when implementing the video upload screen\n    inputError: {\n      show: showSizeError,\n      set: () => setShowSizeError(true),\n      dismiss: () => setShowSelectVideoError(false),\n      message: messages.fileSizeError,\n    },\n    galleryProps: {\n      galleryIsEmpty: Object.keys(filteredList).length === 0,\n      searchIsEmpty: filteredList.length === 0,\n      displayList: filteredList,\n      highlighted,\n      onHighlightChange: (e) => setHighlighted(e.target.value),\n      emptyGalleryLabel: messages.emptyGalleryLabel,\n      showIdsOnCards: true,\n      height: '100%',\n    },\n    selectBtnProps: {\n      onClick: () => {\n        if (highlighted) {\n          navigateTo(`/course/${learningContextId}/editor/video/${blockId}?selectedVideoId=${highlighted}`);\n        } else {\n          setShowSelectVideoError(true);\n        }\n      },\n    },\n  };\n};\n\nexport const useVideoUploadHandler = () => {\n  const learningContextId = useSelector(selectors.app.learningContextId);\n  const blockId = useSelector(selectors.app.blockId);\n  return () => navigateTo(`/course/${learningContextId}/editor/video_upload/${blockId}`);\n};\n\nexport const useCancelHandler = () => (\n  navigateCallback({\n    destination: useSelector(selectors.app.returnUrl),\n    analytics: useSelector(selectors.app.analytics),\n    analyticsEvent: analyticsEvt.videoGalleryCancelClick,\n  })\n);\n\nexport const buildVideos = ({ rawVideos }) => {\n  let videos = [];\n  const rawVideoList = Object.values(rawVideos);\n  if (rawVideoList.length > 0) {\n    videos = rawVideoList.map(video => ({\n      id: video.edx_video_id,\n      displayName: video.client_video_id,\n      externalUrl: video.course_video_image_url,\n      dateAdded: new Date(video.created),\n      locked: false,\n      thumbnail: video.course_video_image_url,\n      status: video.status,\n      statusBadgeVariant: module.getstatusBadgeVariant({ status: video.status }),\n      duration: video.duration,\n      transcripts: video.transcripts,\n    }));\n  }\n  return videos;\n};\n\nexport const getstatusBadgeVariant = ({ status }) => {\n  switch (status) {\n    case filterKeys.failed:\n      return 'danger';\n    case filterKeys.uploading:\n    case filterKeys.processing:\n      return 'light';\n    default:\n      return null;\n  }\n};\n\nexport const useVideoProps = ({ videos }) => {\n  const searchSortProps = useSearchAndSortProps();\n  const videoList = useVideoListProps({\n    searchSortProps,\n    videos,\n  });\n  const {\n    galleryError,\n    galleryProps,\n    inputError,\n    selectBtnProps,\n  } = videoList;\n  const fileInput = { click: useVideoUploadHandler() };\n\n  return {\n    galleryError,\n    inputError,\n    fileInput,\n    galleryProps,\n    searchSortProps,\n    selectBtnProps,\n  };\n};\n\nexport default {\n  useVideoProps,\n  buildVideos,\n  useCancelHandler,\n  useVideoUploadHandler,\n};\n"],"mappings":"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"}