{"version":3,"file":"hooks.js","names":["_react","require","_utils","_ReactStateSettingsParser","_interopRequireDefault","_ReactStateOLXParser","_hooks","_problem","obj","__esModule","default","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","key","value","_toPropertyKey","configurable","writable","i","_toPrimitive","String","Symbol","toPrimitive","call","TypeError","Number","state","exports","StrictDict","isSaveWarningModalOpen","val","useState","saveWarningModalToggle","setIsOpen","openSaveWarningModal","closeSaveWarningModal","fetchEditorContent","_ref","format","editorObject","hints","EditorsArray","window","tinymce","editors","entries","_ref2","id","editor","isNaN","parseInt","startsWith","answers","answerId","substring","indexOf","getContent","includes","selectedFeedback","unselectedFeedback","groupFeedback","feedbackId","parseState","_ref3","problem","isAdvanced","ref","assets","lmsEndpointUrl","rawOLX","current","doc","toString","reactOLXParser","ReactStateOLXParser","reactSettingsParser","ReactStateSettingsParser","reactBuiltOlx","setAssetToStaticUrl","editorValue","buildOLX","settings","parseRawOlxSettings","getSettings","olx","checkForNoAnswers","_ref4","simpleTextAreaProblems","ProblemTypeKeys","DROPDOWN","NUMERIC","TEXTINPUT","problemType","answerTitles","hasTitle","titles","answer","title","hasCorrectAnswer","correctAnswer","correct","checkForSettingDiscrepancy","_ref5","problemSettings","rawOlxSettings","isMismatched","_ref6","_ref7","problemState","isAdvancedProblemType","editorRef","hasNoAnswers","hasMismatchedSettings","data"],"sources":["../../../../../../src/editors/containers/ProblemEditor/components/EditProblemView/hooks.js"],"sourcesContent":["import { useState } from 'react';\nimport 'tinymce';\nimport { StrictDict } from '../../../../utils';\nimport ReactStateSettingsParser from '../../data/ReactStateSettingsParser';\nimport ReactStateOLXParser from '../../data/ReactStateOLXParser';\nimport { setAssetToStaticUrl } from '../../../../sharedComponents/TinyMceWidget/hooks';\nimport { ProblemTypeKeys } from '../../../../data/constants/problem';\n\nexport const state = StrictDict({\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  isSaveWarningModalOpen: (val) => useState(val),\n});\n\nexport const saveWarningModalToggle = () => {\n  const [isSaveWarningModalOpen, setIsOpen] = state.isSaveWarningModalOpen(false);\n  return {\n    isSaveWarningModalOpen,\n    openSaveWarningModal: () => setIsOpen(true),\n    closeSaveWarningModal: () => setIsOpen(false),\n  };\n};\n\nexport const fetchEditorContent = ({ format }) => {\n  const editorObject = { hints: [] };\n  const EditorsArray = window.tinymce.editors;\n  Object.entries(EditorsArray).forEach(([id, editor]) => {\n    if (Number.isNaN(parseInt(id))) {\n      if (id.startsWith('answer')) {\n        const { answers } = editorObject;\n        const answerId = id.substring(id.indexOf('-') + 1);\n        editorObject.answers = { ...answers, [answerId]: editor.getContent({ format }) };\n      } else if (id.includes('Feedback')) {\n        const { selectedFeedback, unselectedFeedback, groupFeedback } = editorObject;\n        const feedbackId = id.substring(id.indexOf('-') + 1);\n        if (id.startsWith('selected')) {\n          editorObject.selectedFeedback = { ...selectedFeedback, [feedbackId]: editor.getContent() };\n        }\n        if (id.startsWith('unselected')) {\n          editorObject.unselectedFeedback = { ...unselectedFeedback, [feedbackId]: editor.getContent() };\n        }\n        if (id.startsWith('group')) {\n          editorObject.groupFeedback = { ...groupFeedback, [feedbackId]: editor.getContent() };\n        }\n      } else if (id.startsWith('hint')) {\n        const { hints } = editorObject;\n        hints.push(editor.getContent());\n      } else {\n        editorObject[id] = editor.getContent();\n      }\n    }\n  });\n  return editorObject;\n};\n\nexport const parseState = ({\n  problem,\n  isAdvanced,\n  ref,\n  assets,\n  lmsEndpointUrl,\n}) => () => {\n  const rawOLX = ref?.current?.state.doc.toString();\n  const editorObject = fetchEditorContent({ format: '' });\n  const reactOLXParser = new ReactStateOLXParser({ problem, editorObject });\n  const reactSettingsParser = new ReactStateSettingsParser({ problem, rawOLX });\n  const reactBuiltOlx = setAssetToStaticUrl({ editorValue: reactOLXParser.buildOLX(), assets, lmsEndpointUrl });\n  return {\n    settings: isAdvanced ? reactSettingsParser.parseRawOlxSettings() : reactSettingsParser.getSettings(),\n    olx: isAdvanced ? rawOLX : reactBuiltOlx,\n  };\n};\n\nexport const checkForNoAnswers = ({ openSaveWarningModal, problem }) => {\n  const simpleTextAreaProblems = [ProblemTypeKeys.DROPDOWN, ProblemTypeKeys.NUMERIC, ProblemTypeKeys.TEXTINPUT];\n  const editorObject = fetchEditorContent({ format: '' });\n  const { problemType } = problem;\n  const { answers } = problem;\n  const answerTitles = simpleTextAreaProblems.includes(problemType) ? {} : editorObject.answers;\n\n  const hasTitle = () => {\n    const titles = [];\n    answers.forEach(answer => {\n      const title = simpleTextAreaProblems.includes(problemType) ? answer.title : answerTitles[answer.id];\n      if (title.length > 0) {\n        titles.push(title);\n      }\n    });\n    if (titles.length > 0) {\n      return true;\n    }\n    return false;\n  };\n\n  const hasCorrectAnswer = () => {\n    let correctAnswer;\n    answers.forEach(answer => {\n      if (answer.correct) {\n        const title = simpleTextAreaProblems.includes(problemType) ? answer.title : answerTitles[answer.id];\n        if (title.length > 0) {\n          correctAnswer = true;\n        }\n      }\n    });\n    if (correctAnswer) {\n      return true;\n    }\n    return false;\n  };\n\n  if (problemType === ProblemTypeKeys.NUMERIC && !hasTitle()) {\n    openSaveWarningModal();\n    return true;\n  }\n  if (!hasCorrectAnswer()) {\n    openSaveWarningModal();\n    return true;\n  }\n  return false;\n};\n\nexport const checkForSettingDiscrepancy = ({ problem, ref, openSaveWarningModal }) => {\n  const rawOLX = ref?.current?.state.doc.toString();\n  const reactSettingsParser = new ReactStateSettingsParser({ problem, rawOLX });\n  const problemSettings = reactSettingsParser.getSettings();\n  const rawOlxSettings = reactSettingsParser.parseRawOlxSettings();\n  let isMismatched = false;\n\n  Object.entries(rawOlxSettings).forEach(([key, value]) => {\n    if (value !== problemSettings[key]) {\n      isMismatched = true;\n    }\n  });\n\n  if (isMismatched) {\n    openSaveWarningModal();\n    return true;\n  }\n  return false;\n};\n\nexport const getContent = ({\n  problemState,\n  openSaveWarningModal,\n  isAdvancedProblemType,\n  editorRef,\n  assets,\n  lmsEndpointUrl,\n}) => {\n  const problem = problemState;\n  const hasNoAnswers = isAdvancedProblemType ? false : checkForNoAnswers({\n    problem,\n    openSaveWarningModal,\n  });\n  const hasMismatchedSettings = isAdvancedProblemType ? checkForSettingDiscrepancy({\n    ref: editorRef,\n    problem,\n    openSaveWarningModal,\n  }) : false;\n  if (!hasNoAnswers && !hasMismatchedSettings) {\n    const data = parseState({\n      isAdvanced: isAdvancedProblemType,\n      ref: editorRef,\n      problem,\n      assets,\n      lmsEndpointUrl,\n    })();\n    return data;\n  }\n  return null;\n};\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACAA,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,yBAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,oBAAA,GAAAD,sBAAA,CAAAH,OAAA;AACA,IAAAK,MAAA,GAAAL,OAAA;AACA,IAAAM,QAAA,GAAAN,OAAA;AAAqE,SAAAG,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,QAAAC,CAAA,EAAAC,CAAA,QAAAC,CAAA,GAAAC,MAAA,CAAAC,IAAA,CAAAJ,CAAA,OAAAG,MAAA,CAAAE,qBAAA,QAAAC,CAAA,GAAAH,MAAA,CAAAE,qBAAA,CAAAL,CAAA,GAAAC,CAAA,KAAAK,CAAA,GAAAA,CAAA,CAAAC,MAAA,WAAAN,CAAA,WAAAE,MAAA,CAAAK,wBAAA,CAAAR,CAAA,EAAAC,CAAA,EAAAQ,UAAA,OAAAP,CAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,CAAA,EAAAI,CAAA,YAAAJ,CAAA;AAAA,SAAAU,cAAAZ,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAY,SAAA,CAAAC,MAAA,EAAAb,CAAA,UAAAC,CAAA,WAAAW,SAAA,CAAAZ,CAAA,IAAAY,SAAA,CAAAZ,CAAA,QAAAA,CAAA,OAAAF,OAAA,CAAAI,MAAA,CAAAD,CAAA,OAAAa,OAAA,WAAAd,CAAA,IAAAe,eAAA,CAAAhB,CAAA,EAAAC,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAE,MAAA,CAAAc,yBAAA,GAAAd,MAAA,CAAAe,gBAAA,CAAAlB,CAAA,EAAAG,MAAA,CAAAc,yBAAA,CAAAf,CAAA,KAAAH,OAAA,CAAAI,MAAA,CAAAD,CAAA,GAAAa,OAAA,WAAAd,CAAA,IAAAE,MAAA,CAAAgB,cAAA,CAAAnB,CAAA,EAAAC,CAAA,EAAAE,MAAA,CAAAK,wBAAA,CAAAN,CAAA,EAAAD,CAAA,iBAAAD,CAAA;AAAA,SAAAgB,gBAAApB,GAAA,EAAAwB,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAxB,GAAA,IAAAO,MAAA,CAAAgB,cAAA,CAAAvB,GAAA,EAAAwB,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAZ,UAAA,QAAAc,YAAA,QAAAC,QAAA,oBAAA5B,GAAA,CAAAwB,GAAA,IAAAC,KAAA,WAAAzB,GAAA;AAAA,SAAA0B,eAAApB,CAAA,QAAAuB,CAAA,GAAAC,YAAA,CAAAxB,CAAA,uCAAAuB,CAAA,GAAAA,CAAA,GAAAE,MAAA,CAAAF,CAAA;AAAA,SAAAC,aAAAxB,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAA0B,MAAA,CAAAC,WAAA,kBAAA7B,CAAA,QAAAyB,CAAA,GAAAzB,CAAA,CAAA8B,IAAA,CAAA5B,CAAA,EAAAD,CAAA,uCAAAwB,CAAA,SAAAA,CAAA,YAAAM,SAAA,yEAAA9B,CAAA,GAAA0B,MAAA,GAAAK,MAAA,EAAA9B,CAAA;AAE9D,MAAM+B,KAAK,GAAAC,OAAA,CAAAD,KAAA,GAAG,IAAAE,iBAAU,EAAC;EAC9B;EACAC,sBAAsB,EAAGC,GAAG,IAAK,IAAAC,eAAQ,EAACD,GAAG;AAC/C,CAAC,CAAC;AAEK,MAAME,sBAAsB,GAAGA,CAAA,KAAM;EAC1C,MAAM,CAACH,sBAAsB,EAAEI,SAAS,CAAC,GAAGP,KAAK,CAACG,sBAAsB,CAAC,KAAK,CAAC;EAC/E,OAAO;IACLA,sBAAsB;IACtBK,oBAAoB,EAAEA,CAAA,KAAMD,SAAS,CAAC,IAAI,CAAC;IAC3CE,qBAAqB,EAAEA,CAAA,KAAMF,SAAS,CAAC,KAAK;EAC9C,CAAC;AACH,CAAC;AAACN,OAAA,CAAAK,sBAAA,GAAAA,sBAAA;AAEK,MAAMI,kBAAkB,GAAGC,IAAA,IAAgB;EAAA,IAAf;IAAEC;EAAO,CAAC,GAAAD,IAAA;EAC3C,MAAME,YAAY,GAAG;IAAEC,KAAK,EAAE;EAAG,CAAC;EAClC,MAAMC,YAAY,GAAGC,MAAM,CAACC,OAAO,CAACC,OAAO;EAC3ChD,MAAM,CAACiD,OAAO,CAACJ,YAAY,CAAC,CAACjC,OAAO,CAACsC,KAAA,IAAkB;IAAA,IAAjB,CAACC,EAAE,EAAEC,MAAM,CAAC,GAAAF,KAAA;IAChD,IAAIrB,MAAM,CAACwB,KAAK,CAACC,QAAQ,CAACH,EAAE,CAAC,CAAC,EAAE;MAC9B,IAAIA,EAAE,CAACI,UAAU,CAAC,QAAQ,CAAC,EAAE;QAC3B,MAAM;UAAEC;QAAQ,CAAC,GAAGb,YAAY;QAChC,MAAMc,QAAQ,GAAGN,EAAE,CAACO,SAAS,CAACP,EAAE,CAACQ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAClDhB,YAAY,CAACa,OAAO,GAAA/C,aAAA,CAAAA,aAAA,KAAQ+C,OAAO;UAAE,CAACC,QAAQ,GAAGL,MAAM,CAACQ,UAAU,CAAC;YAAElB;UAAO,CAAC;QAAC,EAAE;MAClF,CAAC,MAAM,IAAIS,EAAE,CAACU,QAAQ,CAAC,UAAU,CAAC,EAAE;QAClC,MAAM;UAAEC,gBAAgB;UAAEC,kBAAkB;UAAEC;QAAc,CAAC,GAAGrB,YAAY;QAC5E,MAAMsB,UAAU,GAAGd,EAAE,CAACO,SAAS,CAACP,EAAE,CAACQ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACpD,IAAIR,EAAE,CAACI,UAAU,CAAC,UAAU,CAAC,EAAE;UAC7BZ,YAAY,CAACmB,gBAAgB,GAAArD,aAAA,CAAAA,aAAA,KAAQqD,gBAAgB;YAAE,CAACG,UAAU,GAAGb,MAAM,CAACQ,UAAU,CAAC;UAAC,EAAE;QAC5F;QACA,IAAIT,EAAE,CAACI,UAAU,CAAC,YAAY,CAAC,EAAE;UAC/BZ,YAAY,CAACoB,kBAAkB,GAAAtD,aAAA,CAAAA,aAAA,KAAQsD,kBAAkB;YAAE,CAACE,UAAU,GAAGb,MAAM,CAACQ,UAAU,CAAC;UAAC,EAAE;QAChG;QACA,IAAIT,EAAE,CAACI,UAAU,CAAC,OAAO,CAAC,EAAE;UAC1BZ,YAAY,CAACqB,aAAa,GAAAvD,aAAA,CAAAA,aAAA,KAAQuD,aAAa;YAAE,CAACC,UAAU,GAAGb,MAAM,CAACQ,UAAU,CAAC;UAAC,EAAE;QACtF;MACF,CAAC,MAAM,IAAIT,EAAE,CAACI,UAAU,CAAC,MAAM,CAAC,EAAE;QAChC,MAAM;UAAEX;QAAM,CAAC,GAAGD,YAAY;QAC9BC,KAAK,CAACrC,IAAI,CAAC6C,MAAM,CAACQ,UAAU,CAAC,CAAC,CAAC;MACjC,CAAC,MAAM;QACLjB,YAAY,CAACQ,EAAE,CAAC,GAAGC,MAAM,CAACQ,UAAU,CAAC,CAAC;MACxC;IACF;EACF,CAAC,CAAC;EACF,OAAOjB,YAAY;AACrB,CAAC;AAACZ,OAAA,CAAAS,kBAAA,GAAAA,kBAAA;AAEK,MAAM0B,UAAU,GAAGC,KAAA;EAAA,IAAC;IACzBC,OAAO;IACPC,UAAU;IACVC,GAAG;IACHC,MAAM;IACNC;EACF,CAAC,GAAAL,KAAA;EAAA,OAAK,MAAM;IACV,MAAMM,MAAM,GAAGH,GAAG,EAAEI,OAAO,EAAE5C,KAAK,CAAC6C,GAAG,CAACC,QAAQ,CAAC,CAAC;IACjD,MAAMjC,YAAY,GAAGH,kBAAkB,CAAC;MAAEE,MAAM,EAAE;IAAG,CAAC,CAAC;IACvD,MAAMmC,cAAc,GAAG,IAAIC,4BAAmB,CAAC;MAAEV,OAAO;MAAEzB;IAAa,CAAC,CAAC;IACzE,MAAMoC,mBAAmB,GAAG,IAAIC,iCAAwB,CAAC;MAAEZ,OAAO;MAAEK;IAAO,CAAC,CAAC;IAC7E,MAAMQ,aAAa,GAAG,IAAAC,0BAAmB,EAAC;MAAEC,WAAW,EAAEN,cAAc,CAACO,QAAQ,CAAC,CAAC;MAAEb,MAAM;MAAEC;IAAe,CAAC,CAAC;IAC7G,OAAO;MACLa,QAAQ,EAAEhB,UAAU,GAAGU,mBAAmB,CAACO,mBAAmB,CAAC,CAAC,GAAGP,mBAAmB,CAACQ,WAAW,CAAC,CAAC;MACpGC,GAAG,EAAEnB,UAAU,GAAGI,MAAM,GAAGQ;IAC7B,CAAC;EACH,CAAC;AAAA;AAAClD,OAAA,CAAAmC,UAAA,GAAAA,UAAA;AAEK,MAAMuB,iBAAiB,GAAGC,KAAA,IAAuC;EAAA,IAAtC;IAAEpD,oBAAoB;IAAE8B;EAAQ,CAAC,GAAAsB,KAAA;EACjE,MAAMC,sBAAsB,GAAG,CAACC,wBAAe,CAACC,QAAQ,EAAED,wBAAe,CAACE,OAAO,EAAEF,wBAAe,CAACG,SAAS,CAAC;EAC7G,MAAMpD,YAAY,GAAGH,kBAAkB,CAAC;IAAEE,MAAM,EAAE;EAAG,CAAC,CAAC;EACvD,MAAM;IAAEsD;EAAY,CAAC,GAAG5B,OAAO;EAC/B,MAAM;IAAEZ;EAAQ,CAAC,GAAGY,OAAO;EAC3B,MAAM6B,YAAY,GAAGN,sBAAsB,CAAC9B,QAAQ,CAACmC,WAAW,CAAC,GAAG,CAAC,CAAC,GAAGrD,YAAY,CAACa,OAAO;EAE7F,MAAM0C,QAAQ,GAAGA,CAAA,KAAM;IACrB,MAAMC,MAAM,GAAG,EAAE;IACjB3C,OAAO,CAAC5C,OAAO,CAACwF,MAAM,IAAI;MACxB,MAAMC,KAAK,GAAGV,sBAAsB,CAAC9B,QAAQ,CAACmC,WAAW,CAAC,GAAGI,MAAM,CAACC,KAAK,GAAGJ,YAAY,CAACG,MAAM,CAACjD,EAAE,CAAC;MACnG,IAAIkD,KAAK,CAAC1F,MAAM,GAAG,CAAC,EAAE;QACpBwF,MAAM,CAAC5F,IAAI,CAAC8F,KAAK,CAAC;MACpB;IACF,CAAC,CAAC;IACF,IAAIF,MAAM,CAACxF,MAAM,GAAG,CAAC,EAAE;MACrB,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd,CAAC;EAED,MAAM2F,gBAAgB,GAAGA,CAAA,KAAM;IAC7B,IAAIC,aAAa;IACjB/C,OAAO,CAAC5C,OAAO,CAACwF,MAAM,IAAI;MACxB,IAAIA,MAAM,CAACI,OAAO,EAAE;QAClB,MAAMH,KAAK,GAAGV,sBAAsB,CAAC9B,QAAQ,CAACmC,WAAW,CAAC,GAAGI,MAAM,CAACC,KAAK,GAAGJ,YAAY,CAACG,MAAM,CAACjD,EAAE,CAAC;QACnG,IAAIkD,KAAK,CAAC1F,MAAM,GAAG,CAAC,EAAE;UACpB4F,aAAa,GAAG,IAAI;QACtB;MACF;IACF,CAAC,CAAC;IACF,IAAIA,aAAa,EAAE;MACjB,OAAO,IAAI;IACb;IACA,OAAO,KAAK;EACd,CAAC;EAED,IAAIP,WAAW,KAAKJ,wBAAe,CAACE,OAAO,IAAI,CAACI,QAAQ,CAAC,CAAC,EAAE;IAC1D5D,oBAAoB,CAAC,CAAC;IACtB,OAAO,IAAI;EACb;EACA,IAAI,CAACgE,gBAAgB,CAAC,CAAC,EAAE;IACvBhE,oBAAoB,CAAC,CAAC;IACtB,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd,CAAC;AAACP,OAAA,CAAA0D,iBAAA,GAAAA,iBAAA;AAEK,MAAMgB,0BAA0B,GAAGC,KAAA,IAA4C;EAAA,IAA3C;IAAEtC,OAAO;IAAEE,GAAG;IAAEhC;EAAqB,CAAC,GAAAoE,KAAA;EAC/E,MAAMjC,MAAM,GAAGH,GAAG,EAAEI,OAAO,EAAE5C,KAAK,CAAC6C,GAAG,CAACC,QAAQ,CAAC,CAAC;EACjD,MAAMG,mBAAmB,GAAG,IAAIC,iCAAwB,CAAC;IAAEZ,OAAO;IAAEK;EAAO,CAAC,CAAC;EAC7E,MAAMkC,eAAe,GAAG5B,mBAAmB,CAACQ,WAAW,CAAC,CAAC;EACzD,MAAMqB,cAAc,GAAG7B,mBAAmB,CAACO,mBAAmB,CAAC,CAAC;EAChE,IAAIuB,YAAY,GAAG,KAAK;EAExB7G,MAAM,CAACiD,OAAO,CAAC2D,cAAc,CAAC,CAAChG,OAAO,CAACkG,KAAA,IAAkB;IAAA,IAAjB,CAAC7F,GAAG,EAAEC,KAAK,CAAC,GAAA4F,KAAA;IAClD,IAAI5F,KAAK,KAAKyF,eAAe,CAAC1F,GAAG,CAAC,EAAE;MAClC4F,YAAY,GAAG,IAAI;IACrB;EACF,CAAC,CAAC;EAEF,IAAIA,YAAY,EAAE;IAChBvE,oBAAoB,CAAC,CAAC;IACtB,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd,CAAC;AAACP,OAAA,CAAA0E,0BAAA,GAAAA,0BAAA;AAEK,MAAM7C,UAAU,GAAGmD,KAAA,IAOpB;EAAA,IAPqB;IACzBC,YAAY;IACZ1E,oBAAoB;IACpB2E,qBAAqB;IACrBC,SAAS;IACT3C,MAAM;IACNC;EACF,CAAC,GAAAuC,KAAA;EACC,MAAM3C,OAAO,GAAG4C,YAAY;EAC5B,MAAMG,YAAY,GAAGF,qBAAqB,GAAG,KAAK,GAAGxB,iBAAiB,CAAC;IACrErB,OAAO;IACP9B;EACF,CAAC,CAAC;EACF,MAAM8E,qBAAqB,GAAGH,qBAAqB,GAAGR,0BAA0B,CAAC;IAC/EnC,GAAG,EAAE4C,SAAS;IACd9C,OAAO;IACP9B;EACF,CAAC,CAAC,GAAG,KAAK;EACV,IAAI,CAAC6E,YAAY,IAAI,CAACC,qBAAqB,EAAE;IAC3C,MAAMC,IAAI,GAAGnD,UAAU,CAAC;MACtBG,UAAU,EAAE4C,qBAAqB;MACjC3C,GAAG,EAAE4C,SAAS;MACd9C,OAAO;MACPG,MAAM;MACNC;IACF,CAAC,CAAC,CAAC,CAAC;IACJ,OAAO6C,IAAI;EACb;EACA,OAAO,IAAI;AACb,CAAC;AAACtF,OAAA,CAAA6B,UAAA,GAAAA,UAAA"}