{"version":3,"file":"reducer.test.js","names":["_reducer","require","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","testingState","initialState","arbitraryField","describe","it","expect","reducer","toEqual","testValue","data","studioEndpointUrl","lmsEndpointUrl","blockId","learningContextId","blockType","actions","initialize","other","setterTest","action","map","args","blockValue","display_name","setBlockValue","blockTitle","initializeEditor","editorInitialized"],"sources":["../../../../../src/editors/data/redux/app/reducer.test.js"],"sourcesContent":["import { initialState, actions, reducer } from './reducer';\n\nconst testingState = {\n  ...initialState,\n  arbitraryField: 'arbitrary',\n};\n\ndescribe('app reducer', () => {\n  it('has initial state', () => {\n    expect(reducer(undefined, {})).toEqual(initialState);\n  });\n\n  const testValue = 'roll for initiative';\n\n  describe('handling actions', () => {\n    describe('initialize', () => {\n      it('loads initial input fields into the store', () => {\n        const data = {\n          studioEndpointUrl: 'testURL',\n          lmsEndpointUrl: 'sOmEOtherTestuRl',\n          blockId: 'anID',\n          learningContextId: 'OTHERid',\n          blockType: 'someTYPE',\n        };\n        expect(reducer(\n          testingState,\n          actions.initialize({ ...data, other: 'field' }),\n        )).toEqual({\n          ...testingState,\n          ...data,\n        });\n      });\n    });\n    const setterTest = (action, target) => {\n      describe(action, () => {\n        it(`load ${target} from payload`, () => {\n          expect(reducer(testingState, actions[action](testValue))).toEqual({\n            ...testingState,\n            [target]: testValue,\n          });\n        });\n      });\n    };\n    [\n      ['setUnitUrl', 'unitUrl'],\n      ['setStudioView', 'studioView'],\n      ['setBlockContent', 'blockContent'],\n      ['setBlockTitle', 'blockTitle'],\n      ['setSaveResponse', 'saveResponse'],\n      ['setAssets', 'assets'],\n      ['setVideos', 'videos'],\n      ['setCourseDetails', 'courseDetails'],\n    ].map(args => setterTest(...args));\n    describe('setBlockValue', () => {\n      it('sets blockValue, as well as setting the blockTitle from data.display_name', () => {\n        const blockValue = { data: { display_name: 'my test name' }, other: 'data' };\n        expect(reducer(testingState, actions.setBlockValue(blockValue))).toEqual({\n          ...testingState,\n          blockValue,\n          blockTitle: blockValue.data.display_name,\n        });\n      });\n    });\n    describe('initializeEditor', () => {\n      it('sets editorInitialized to true', () => {\n        expect(reducer(testingState, actions.initializeEditor())).toEqual({\n          ...testingState,\n          editorInitialized: true,\n        });\n      });\n    });\n  });\n});\n"],"mappings":"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"}