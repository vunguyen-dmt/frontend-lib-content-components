{"version":3,"file":"reducer.test.js","names":["_reducer","require","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","key","value","_toPropertyKey","configurable","writable","i","_toPrimitive","String","Symbol","toPrimitive","call","TypeError","Number","testingState","initialState","arbitraryField","describe","it","expect","reducer","undefined","toEqual","testValue","data","studioEndpointUrl","lmsEndpointUrl","blockId","learningContextId","blockType","actions","initialize","other","setterTest","action","target","map","args","blockValue","display_name","setBlockValue","blockTitle","initializeEditor","editorInitialized"],"sources":["../../../../../src/editors/data/redux/app/reducer.test.js"],"sourcesContent":["import { initialState, actions, reducer } from './reducer';\n\nconst testingState = {\n  ...initialState,\n  arbitraryField: 'arbitrary',\n};\n\ndescribe('app reducer', () => {\n  it('has initial state', () => {\n    expect(reducer(undefined, {})).toEqual(initialState);\n  });\n\n  const testValue = 'roll for initiative';\n\n  describe('handling actions', () => {\n    describe('initialize', () => {\n      it('loads initial input fields into the store', () => {\n        const data = {\n          studioEndpointUrl: 'testURL',\n          lmsEndpointUrl: 'sOmEOtherTestuRl',\n          blockId: 'anID',\n          learningContextId: 'OTHERid',\n          blockType: 'someTYPE',\n        };\n        expect(reducer(\n          testingState,\n          actions.initialize({ ...data, other: 'field' }),\n        )).toEqual({\n          ...testingState,\n          ...data,\n        });\n      });\n    });\n    const setterTest = (action, target) => {\n      describe(action, () => {\n        it(`load ${target} from payload`, () => {\n          expect(reducer(testingState, actions[action](testValue))).toEqual({\n            ...testingState,\n            [target]: testValue,\n          });\n        });\n      });\n    };\n    [\n      ['setUnitUrl', 'unitUrl'],\n      ['setStudioView', 'studioView'],\n      ['setBlockContent', 'blockContent'],\n      ['setBlockTitle', 'blockTitle'],\n      ['setSaveResponse', 'saveResponse'],\n      ['setAssets', 'assets'],\n      ['setVideos', 'videos'],\n      ['setCourseDetails', 'courseDetails'],\n    ].map(args => setterTest(...args));\n    describe('setBlockValue', () => {\n      it('sets blockValue, as well as setting the blockTitle from data.display_name', () => {\n        const blockValue = { data: { display_name: 'my test name' }, other: 'data' };\n        expect(reducer(testingState, actions.setBlockValue(blockValue))).toEqual({\n          ...testingState,\n          blockValue,\n          blockTitle: blockValue.data.display_name,\n        });\n      });\n    });\n    describe('initializeEditor', () => {\n      it('sets editorInitialized to true', () => {\n        expect(reducer(testingState, actions.initializeEditor())).toEqual({\n          ...testingState,\n          editorInitialized: true,\n        });\n      });\n    });\n  });\n});\n"],"mappings":"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"}