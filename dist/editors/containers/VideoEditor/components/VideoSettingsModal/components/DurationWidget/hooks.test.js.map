{"version":3,"file":"hooks.test.js","names":["_react","_interopRequireDefault","require","hooks","_interopRequireWildcard","_messages","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","obj","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","key","value","_toPropertyKey","configurable","writable","_toPrimitive","String","Symbol","toPrimitive","TypeError","Number","jest","mock","updateState","fn","requireActual","useState","val","state","newVal","useCallback","cb","prereqs","useEffect","testMethod","intl","formatMessage","h","m","s","durationPairs","trickyDurations","props","target","describe","afterEach","restoreAllMocks","duration","startTime","stopTime","updateField","beforeEach","durationWidget","test","expect","React","toHaveBeenCalled","calls","toEqual","unsavedDuration","durationString","spyOn","mockImplementation","onBlur","updateDuration","onChange","onKeyDown","getTotalLabel","subtitle","messages","fullVideoLength","startsAt","total","custom","it","testDuration","other","durationStringFromValue","badChecks","_ref","dur","testValidIndex","testStopIndex","testValidDuration","testValidValue","testInvalidDuration","setDuration","setUnsavedDuration","index","inputString","toHaveBeenCalledWith","onDurationChange","document","activeElement","selectionStart","event","onDurationKeyDown","blurSpy","valueFromDuration","_ref2","_ref3"],"sources":["../../../../../../../../src/editors/containers/VideoEditor/components/VideoSettingsModal/components/DurationWidget/hooks.test.js"],"sourcesContent":["import React from 'react';\n\nimport * as hooks from './hooks';\nimport messages from '../messages';\n\njest.mock('react', () => {\n  const updateState = jest.fn();\n  return {\n    ...jest.requireActual('react'),\n    updateState,\n    useState: jest.fn(val => ([{ state: val }, (newVal) => updateState({ val, newVal })])),\n    useCallback: (cb, prereqs) => ({ useCallback: { cb, prereqs } }),\n    useEffect: jest.fn(),\n  };\n});\n\nlet testMethod;\nconst intl = {\n  formatMessage: jest.fn(val => val),\n};\n\nconst [h, m, s] = [3600000, 60000, 1000];\nconst durationPairs = [\n  [0, '00:00:00'],\n  [5000, '00:00:05'],\n  [60000, '00:01:00'],\n  [3600000, '01:00:00'],\n  [3665000, '01:01:05'],\n];\nconst trickyDurations = [\n  ['10:00', 600000],\n  ['23', 23000],\n  ['99:99:99', 99 * (m + s + h)],\n  ['23:42:81', 23 * h + 42 * m + 81 * s],\n];\nlet props;\nconst e = {\n  target: {\n    value: 'vAlUE',\n  },\n};\n\ndescribe('Video Settings DurationWidget hooks', () => {\n  afterEach(() => {\n    jest.restoreAllMocks();\n  });\n  describe('durationWidget', () => {\n    const duration = {\n      startTime: '00:00:00',\n      stopTime: '00:00:10',\n    };\n    const updateField = jest.fn();\n    beforeEach(() => {\n      testMethod = hooks.durationWidget({ duration, updateField });\n    });\n    describe('behavior', () => {\n      describe('initialization', () => {\n        test('useEffect memoized on duration', () => {\n          hooks.durationWidget({ duration, updateField });\n          expect(React.useEffect).toHaveBeenCalled();\n          expect(React.useEffect.mock.calls[0][1]).toEqual([duration]);\n        });\n        test('calls setUnsavedDuration with durationString(duration)', () => {\n          hooks.durationWidget({ duration, updateField });\n          React.useEffect.mock.calls[0][0]();\n          expect(React.updateState).toHaveBeenCalled();\n        });\n      });\n    });\n    describe('returns', () => {\n      testMethod = hooks.durationWidget({ duration, updateField });\n      afterEach(() => {\n        jest.restoreAllMocks();\n      });\n      describe('unsavedDuration, defaulted to duration', () => {\n        expect(testMethod.unsavedDuration).toEqual({ state: hooks.durationString(duration) });\n      });\n      describe('onBlur, calls updateDuration', () => {\n        jest.spyOn(hooks, 'updateDuration').mockImplementation(jest.fn());\n        testMethod.onBlur('IndEX')(e);\n        expect(hooks.updateDuration).toHaveBeenCalled();\n      });\n      describe('onChange', () => {\n        testMethod.onChange('IndEX')(e);\n        expect(React.updateState).toHaveBeenCalled();\n      });\n      describe('onKeyDown', () => {\n        testMethod.onKeyDown('iNDex')(e);\n        expect(React.updateState).toHaveBeenCalled();\n      });\n      describe('getTotalLabel', () => {\n        describe('returns fullVideoLength message when no startTime and no stop Time are set', () => {\n          expect(testMethod.getTotalLabel({\n            durationString: {},\n            subtitle: true,\n            intl,\n          })).toEqual(messages.fullVideoLength);\n        });\n        describe('returns startAt message for subtitle when only startTime is set', () => {\n          expect(testMethod.getTotalLabel({\n            durationString: {\n              startTime: '00:00:00',\n            },\n            subtitle: true,\n            intl,\n          })).toEqual(messages.startsAt);\n        });\n        describe('returns null for widget (not subtitle) when there only startTime is set', () => {\n          expect(testMethod.getTotalLabel({\n            durationString: {\n              startTime: '00:00:00',\n            },\n            subtitle: false,\n            intl,\n          })).toEqual(null);\n        });\n        describe('returns total message when at least stopTime is set', () => {\n          expect(testMethod.getTotalLabel({\n            durationString: {\n              startTime: '00:00:00',\n              stopTime: '00:00:10',\n            },\n            subtitle: false,\n            intl,\n          })).toEqual(messages.total);\n        });\n        describe('returns custom message when at least stopTime is set and subtitle is true', () => {\n          expect(testMethod.getTotalLabel({\n            durationString: {\n              startTime: '00:00:00',\n              stopTime: '00:00:10',\n            },\n            subtitle: true,\n            intl,\n          })).toEqual(messages.custom);\n        });\n      });\n    });\n  });\n  describe('durationString', () => {\n    beforeEach(() => {\n      testMethod = hooks.durationString;\n    });\n    it('returns an object that maps durationStringFromValue to the passed duration keys', () => {\n      const testDuration = { startTime: 1000, stopTime: 2000, other: 'values' };\n      expect(testMethod(testDuration)).toEqual({\n        startTime: '00:00:01',\n        stopTime: '00:00:02',\n      });\n    });\n  });\n  describe('durationStringFromValue', () => {\n    beforeEach(() => {\n      testMethod = hooks.durationStringFromValue;\n    });\n    it('returns 00:00:00 if given a bad value', () => {\n      const badChecks = ['a', '', null, -1];\n      badChecks.forEach(val => expect(testMethod(val)).toEqual('00:00:00'));\n    });\n    it('translates milliseconds into hh:mm:ss format', () => {\n      durationPairs.forEach(\n        ([val, dur]) => expect(testMethod(val)).toEqual(dur),\n      );\n    });\n  });\n  describe('updateDuration', () => {\n    const testValidIndex = 'startTime';\n    const testStopIndex = 'stopTime';\n    const testValidDuration = '00:00:00';\n    const testValidValue = 0;\n    const testInvalidDuration = 'abc';\n    beforeEach(() => {\n      testMethod = hooks.updateDuration;\n      props = {\n        duration: { startTime: 23000, stopTime: 600000 },\n        unsavedDuration: { startTime: '00:00:23', stopTime: '00:10:00' },\n        setDuration: jest.fn(),\n        setUnsavedDuration: jest.fn(),\n        index: 'startTime',\n        inputString: '01:23:45',\n      };\n    });\n    describe('if the passed durationString is valid', () => {\n      it('sets the unsavedDuration to updated strings and duration to new timestamp value', () => {\n        testMethod({\n          ...props,\n          index: testValidIndex,\n          inputString: testValidDuration,\n        });\n        expect(props.setUnsavedDuration).toHaveBeenCalledWith({\n          ...props.unsavedDuration,\n          [testValidIndex]: testValidDuration,\n        });\n        expect(props.setDuration).toHaveBeenCalledWith({\n          ...props.duration,\n          [testValidIndex]: testValidValue,\n        });\n      });\n    });\n    describe('if the passed durationString is not valid', () => {\n      it('updates unsavedDuration values to 0 (the default)', () => {\n        testMethod({\n          ...props,\n          index: testValidIndex,\n          inputString: testInvalidDuration,\n        });\n        expect(props.setUnsavedDuration).toHaveBeenCalledWith({\n          ...props.unsavedDuration,\n          [testValidIndex]: testValidDuration,\n        });\n        expect(props.setDuration).toHaveBeenCalledWith({\n          ...props.duration,\n          [testValidIndex]: testValidValue,\n        });\n      });\n    });\n    describe('if the passed startTime is after (or equal to) the stored non-zero stopTime', () => {\n      it('updates unsavedDuration startTime values to 1 second before stopTime', () => {\n        testMethod({\n          ...props,\n          index: testValidIndex,\n          inputString: '00:10:00',\n        });\n        expect(props.setUnsavedDuration).toHaveBeenCalledWith({\n          ...props.unsavedDuration,\n          [testValidIndex]: '00:09:59',\n        });\n        expect(props.setDuration).toHaveBeenCalledWith({\n          ...props.duration,\n          [testValidIndex]: 599000,\n        });\n      });\n    });\n    describe('if the passed stopTime is before (or equal to) the stored startTime', () => {\n      it('updates unsavedDuration stopTime values to 1 second after startTime', () => {\n        testMethod({\n          ...props,\n          index: testStopIndex,\n          inputString: '00:00:22',\n        });\n        expect(props.setUnsavedDuration).toHaveBeenCalledWith({\n          ...props.unsavedDuration,\n          [testStopIndex]: '00:00:24',\n        });\n        expect(props.setDuration).toHaveBeenCalledWith({\n          ...props.duration,\n          [testStopIndex]: 24000,\n        });\n      });\n    });\n  });\n  describe('onDurationChange', () => {\n    beforeEach(() => {\n      props = {\n        duration: { startTime: '00:00:00' },\n        index: 'startTime',\n        val: 'vAl',\n      };\n      testMethod = hooks.onDurationChange;\n    });\n    it('returns duration with no change if duration[index] does not match HH:MM:SS format', () => {\n      const badChecks = [\n        'ab:cd:ef', // non-digit characters\n        '12:34:567', // characters past max length\n      ];\n      badChecks.forEach(val => expect(testMethod(props.duration, props.index, val)).toEqual(props.duration));\n    });\n    it('returns duration with an added \\':\\' after 2 characters when caret is at end', () => {\n      props.duration = { startTime: '0' };\n      props.val = '00';\n      document.activeElement.selectionStart = props.duration[props.index].length + 1;\n      expect(testMethod(props.duration, props.index, props.val)).toEqual({ startTime: '00:' });\n    });\n    it('returns duration with an added \\':\\' after 5 characters when caret is at end', () => {\n      props.duration = { startTime: '00:0' };\n      props.val = '00:00';\n      document.activeElement.selectionStart = props.duration[props.index].length + 1;\n      expect(testMethod(props.duration, props.index, props.val)).toEqual({ startTime: '00:00:' });\n    });\n  });\n  describe('onDurationKeyDown', () => {\n    beforeEach(() => {\n      props = {\n        duration: { startTime: '00:00:00' },\n        index: 'startTime',\n        event: 'eVeNt',\n      };\n      testMethod = hooks.onDurationKeyDown;\n    });\n    it('enter event: calls blur()', () => {\n      props.event = { key: 'Enter' };\n      const blurSpy = jest.spyOn(document.activeElement, 'blur');\n      testMethod(props.duration, props.index, props.event);\n      expect(blurSpy).toHaveBeenCalled();\n    });\n    it('backspace event: returns duration with deleted end character when that character is \\':\\' and caret is at end', () => {\n      props.duration = { startTime: '00:' };\n      props.event = { key: 'Backspace' };\n      document.activeElement.selectionStart = props.duration[props.index].length;\n      expect(testMethod(props.duration, props.index, props.event)).toEqual({ startTime: '00' });\n    });\n  });\n  describe('valueFromDuration', () => {\n    beforeEach(() => {\n      testMethod = hooks.valueFromDuration;\n    });\n    it('returns 0 if given a bad duration string', () => {\n      const badChecks = ['a', '00:00:1f', '0adg:00:04'];\n      badChecks.forEach(dur => expect(testMethod(dur)).toEqual(0));\n    });\n    it('returns simple durations', () => {\n      durationPairs.forEach(([val, dur]) => expect(testMethod(dur)).toEqual(val));\n    });\n    it('returns tricky durations, prepending zeros and expanding out sections', () => {\n      trickyDurations.forEach(([dur, val]) => expect(testMethod(dur)).toEqual(val));\n    });\n  });\n});\n"],"mappings":"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"}