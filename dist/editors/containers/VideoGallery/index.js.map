{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_reactRedux","_redux","_hooks","_interopRequireDefault","_SelectionModal","_utils","_messages","_requests","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","VideoGallery","rawVideos","useSelector","selectors","app","videos","isLoaded","state","requests","isFinished","requestKey","RequestKeys","fetchVideos","isFetchError","isFailed","isUploadError","uploadVideo","hooks","buildVideos","handleVideoUpload","useVideoUploadHandler","useEffect","length","galleryError","inputError","fileInput","galleryProps","searchSortProps","selectBtnProps","useVideoProps","handleCancel","useCancelHandler","modalMessages","confirmMsg","messages","selectVideoButtonlabel","titleMsg","titleLabel","uploadButtonMsg","uploadButtonLabel","fetchError","fetchVideosError","uploadError","uploadVideoError","jsx","isOpen","close","size","isFullscreenScroll","acceptedFiles","acceptedImgKeys","exports","propTypes","_default"],"sources":["../../../../src/editors/containers/VideoGallery/index.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectors } from '../../data/redux';\nimport hooks from './hooks';\nimport SelectionModal from '../../sharedComponents/SelectionModal';\nimport { acceptedImgKeys } from './utils';\nimport messages from './messages';\nimport { RequestKeys } from '../../data/constants/requests';\n\nexport const VideoGallery = () => {\n  const rawVideos = useSelector(selectors.app.videos);\n  const isLoaded = useSelector(\n    (state) => selectors.requests.isFinished(state, { requestKey: RequestKeys.fetchVideos }),\n  );\n  const isFetchError = useSelector(\n    (state) => selectors.requests.isFailed(state, { requestKey: RequestKeys.fetchVideos }),\n  );\n  const isUploadError = useSelector(\n    (state) => selectors.requests.isFailed(state, { requestKey: RequestKeys.uploadVideo }),\n  );\n  const videos = hooks.buildVideos({ rawVideos });\n  const handleVideoUpload = hooks.useVideoUploadHandler();\n\n  useEffect(() => {\n    // If no videos exists redirects to the video upload screen\n    if (isLoaded && videos.length === 0) {\n      handleVideoUpload();\n    }\n  }, [isLoaded]);\n  const {\n    galleryError,\n    inputError,\n    fileInput,\n    galleryProps,\n    searchSortProps,\n    selectBtnProps,\n  } = hooks.useVideoProps({ videos });\n  const handleCancel = hooks.useCancelHandler();\n\n  const modalMessages = {\n    confirmMsg: messages.selectVideoButtonlabel,\n    titleMsg: messages.titleLabel,\n    uploadButtonMsg: messages.uploadButtonLabel,\n    fetchError: messages.fetchVideosError,\n    uploadError: messages.uploadVideoError,\n  };\n\n  return (\n    <SelectionModal\n      {...{\n        isOpen: true,\n        close: handleCancel,\n        size: 'fullscreen',\n        isFullscreenScroll: false,\n        galleryError,\n        inputError,\n        fileInput,\n        galleryProps,\n        searchSortProps,\n        selectBtnProps,\n        acceptedFiles: acceptedImgKeys,\n        modalMessages,\n        isLoaded,\n        isUploadError,\n        isFetchError,\n      }}\n    />\n  );\n};\n\nVideoGallery.propTypes = {};\n\nexport default VideoGallery;\n"],"mappings":"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"}