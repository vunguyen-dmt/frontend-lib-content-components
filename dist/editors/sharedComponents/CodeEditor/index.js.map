{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_paragon","_i18n","_messages","hooks","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","CodeEditor","_ref","innerRef","lang","intl","DOMref","useRef","btnRef","createCodeMirrorDomNode","ref","initialText","upstreamRef","showBtnEscapeHTML","hideBtn","prepareShowBtnEscapeHTML","jsxs","children","jsx","id","Button","variant","formatMessage","messages","escapeHTMLButtonLabel","onClick","escapeHTMLSpecialChars","FormattedMessage","exports","propTypes","PropTypes","oneOfType","func","shape","current","any","isRequired","string","intlShape","_default","injectIntl"],"sources":["../../../../src/editors/sharedComponents/CodeEditor/index.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Button,\n} from '@edx/paragon';\n\nimport { FormattedMessage, injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport messages from './messages';\nimport './index.scss';\n\nimport * as hooks from './hooks';\n\nexport const CodeEditor = ({\n  innerRef,\n  value,\n  lang,\n  // injected\n  intl,\n}) => {\n  const DOMref = useRef();\n  const btnRef = useRef();\n  hooks.createCodeMirrorDomNode({\n    ref: DOMref, initialText: value, upstreamRef: innerRef, lang,\n  });\n  const { showBtnEscapeHTML, hideBtn } = hooks.prepareShowBtnEscapeHTML();\n\n  return (\n    <div>\n      <div id=\"CodeMirror\" ref={DOMref} />\n      {showBtnEscapeHTML && (\n        <Button\n          variant=\"tertiary\"\n          aria-label={intl.formatMessage(messages.escapeHTMLButtonLabel)}\n          ref={btnRef}\n          onClick={() => hooks.escapeHTMLSpecialChars({ ref: innerRef, hideBtn })}\n        >\n          <FormattedMessage {...messages.escapeHTMLButtonLabel} />\n        </Button>\n      )}\n    </div>\n  );\n};\n\nCodeEditor.propTypes = {\n  innerRef: PropTypes.oneOfType([\n    PropTypes.func,\n    // eslint-disable-next-line react/forbid-prop-types\n    PropTypes.shape({ current: PropTypes.any }),\n  ]).isRequired,\n  value: PropTypes.string.isRequired,\n  intl: intlShape.isRequired,\n  lang: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(CodeEditor);\n"],"mappings":"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"}