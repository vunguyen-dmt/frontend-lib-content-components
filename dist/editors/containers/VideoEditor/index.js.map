{"version":3,"file":"index.js","names":["_react","_interopRequireDefault","require","_reactRedux","_propTypes","_paragon","_i18n","_redux","_requests","_EditorContainer","_VideoEditorModal","_hooks","_messages","_jsxRuntime","obj","__esModule","default","VideoEditor","_ref","onClose","returnFunction","intl","studioViewFinished","error","validateEntry","errorsHook","jsx","ErrorContext","Provider","value","children","getContent","fetchVideoContent","className","style","position","left","top","transform","Spinner","animation","screenreadertext","formatMessage","messages","spinnerScreenReaderText","exports","defaultProps","propTypes","PropTypes","func","intlShape","isRequired","bool","mapStateToProps","state","selectors","requests","isFinished","requestKey","RequestKeys","fetchStudioView","mapDispatchToProps","_default","injectIntl","connect"],"sources":["../../../../src/editors/containers/VideoEditor/index.jsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  Spinner,\n} from '@edx/paragon';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport { selectors } from '../../data/redux';\nimport { RequestKeys } from '../../data/constants/requests';\n\nimport EditorContainer from '../EditorContainer';\nimport VideoEditorModal from './components/VideoEditorModal';\nimport { ErrorContext, errorsHook, fetchVideoContent } from './hooks';\nimport messages from './messages';\n\nexport const VideoEditor = ({\n  onClose,\n  returnFunction,\n  // injected\n  intl,\n  // redux\n  studioViewFinished,\n}) => {\n  const {\n    error,\n    validateEntry,\n  } = errorsHook();\n  return (\n    <ErrorContext.Provider value={error}>\n      <EditorContainer\n        getContent={fetchVideoContent()}\n        onClose={onClose}\n        returnFunction={returnFunction}\n        validateEntry={validateEntry}\n      >\n        {studioViewFinished ? (\n          <div className=\"video-editor\">\n            <VideoEditorModal />\n          </div>\n        ) : (\n          <div style={{\n            position: 'absolute',\n            left: '50%',\n            top: '50%',\n            transform: 'translate(-50%, -50%)',\n          }}\n          >\n            <Spinner\n              animation=\"border\"\n              className=\"m-3\"\n              screenreadertext={intl.formatMessage(messages.spinnerScreenReaderText)}\n            />\n          </div>\n        )}\n      </EditorContainer>\n    </ErrorContext.Provider>\n  );\n};\n\nVideoEditor.defaultProps = {\n  onClose: null,\n  returnFunction: null,\n};\nVideoEditor.propTypes = {\n  onClose: PropTypes.func,\n  returnFunction: PropTypes.func,\n  // injected\n  intl: intlShape.isRequired,\n  // redux\n  studioViewFinished: PropTypes.bool.isRequired,\n};\n\nexport const mapStateToProps = (state) => ({\n  studioViewFinished: selectors.requests.isFinished(state, { requestKey: RequestKeys.fetchStudioView }),\n});\n\nexport const mapDispatchToProps = {};\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(VideoEditor));\n"],"mappings":"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"}