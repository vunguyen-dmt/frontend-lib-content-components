{"version":3,"file":"store.test.js","names":["_redux","require","_reduxThunk","_interopRequireDefault","_logOnlyInProduction","_reduxLogger","_redux2","_interopRequireWildcard","_store","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","obj","jest","mock","actions","selectors","createLogger","applyMiddleware","_len","arguments","length","middleware","Array","_key","applied","createStore","reducer","composeWithDevTools","withDevTools","describe","it","expect","exportedStore","toEqual","rootReducer","thunkMiddleware","beforeEach","window","store","undefined","process","env","NODE_ENV"],"sources":["../../../src/editors/data/store.test.js"],"sourcesContent":["import { applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension/logOnlyInProduction';\nimport { createLogger } from 'redux-logger';\n\nimport rootReducer, { actions, selectors } from './redux';\n\nimport exportedStore, { createStore } from './store';\n\njest.mock('./redux', () => ({\n  __esModule: true,\n  default: 'REDUCER',\n  actions: 'ACTIONS',\n  selectors: 'SELECTORS',\n}));\n\njest.mock('redux-logger', () => ({\n  createLogger: () => 'logger',\n}));\njest.mock('redux-thunk', () => 'thunkMiddleware');\njest.mock('redux', () => ({\n  applyMiddleware: (...middleware) => ({ applied: middleware }),\n  createStore: (reducer, middleware) => ({ reducer, middleware }),\n}));\njest.mock('redux-devtools-extension/logOnlyInProduction', () => ({\n  composeWithDevTools: (middleware) => ({ withDevTools: middleware }),\n}));\n\ndescribe('store aggregator module', () => {\n  describe('exported store', () => {\n    it('is generated by createStore', () => {\n      expect(exportedStore).toEqual(createStore());\n    });\n    it('creates store with connected reducers', () => {\n      expect(createStore().reducer).toEqual(rootReducer);\n    });\n    describe('middleware', () => {\n      it('exports thunk and logger middleware, composed and applied with dev tools', () => {\n        expect(createStore().middleware).toEqual(\n          composeWithDevTools(applyMiddleware(thunkMiddleware, createLogger())),\n        );\n      });\n    });\n  });\n  describe('dev exposed tools', () => {\n    beforeEach(() => {\n      window.store = undefined;\n      window.actions = undefined;\n      window.selectors = undefined;\n    });\n    it('exposes redux tools if in development env', () => {\n      process.env.NODE_ENV = 'development';\n      const store = createStore();\n      expect(window.store).toEqual(store);\n      expect(window.actions).toEqual(actions);\n      expect(window.selectors).toEqual(selectors);\n    });\n    it('does not expose redux tools if in production env', () => {\n      process.env.NODE_ENV = 'production';\n      createStore();\n      expect(window.store).toEqual(undefined);\n      expect(window.actions).toEqual(undefined);\n      expect(window.selectors).toEqual(undefined);\n    });\n  });\n});\n"],"mappings":";;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,oBAAA,GAAAH,OAAA;AACA,IAAAI,YAAA,GAAAJ,OAAA;AAEA,IAAAK,OAAA,GAAAC,uBAAA,CAAAN,OAAA;AAEA,IAAAO,MAAA,GAAAD,uBAAA,CAAAN,OAAA;AAAqD,SAAAQ,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAc,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAgB,GAAA,CAAAnB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAAA,SAAAf,uBAAA2B,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAhB,UAAA,GAAAgB,GAAA,KAAAf,OAAA,EAAAe,GAAA;AAErDC,IAAI,CAACC,IAAI,CAAC,SAAS,EAAE,OAAO;EAC1BlB,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,SAAS;EAClBkB,OAAO,EAAE,SAAS;EAClBC,SAAS,EAAE;AACb,CAAC,CAAC,CAAC;AAEHH,IAAI,CAACC,IAAI,CAAC,cAAc,EAAE,OAAO;EAC/BG,YAAY,EAAEA,CAAA,KAAM;AACtB,CAAC,CAAC,CAAC;AACHJ,IAAI,CAACC,IAAI,CAAC,aAAa,EAAE,MAAM,iBAAiB,CAAC;AACjDD,IAAI,CAACC,IAAI,CAAC,OAAO,EAAE,OAAO;EACxBI,eAAe,EAAE,SAAAA,CAAA;IAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAIC,UAAU,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAVF,UAAU,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAA,OAAM;MAAEC,OAAO,EAAEH;IAAW,CAAC;EAAA,CAAC;EAC7DI,WAAW,EAAEA,CAACC,OAAO,EAAEL,UAAU,MAAM;IAAEK,OAAO;IAAEL;EAAW,CAAC;AAChE,CAAC,CAAC,CAAC;AACHT,IAAI,CAACC,IAAI,CAAC,8CAA8C,EAAE,OAAO;EAC/Dc,mBAAmB,EAAGN,UAAU,KAAM;IAAEO,YAAY,EAAEP;EAAW,CAAC;AACpE,CAAC,CAAC,CAAC;AAEHQ,QAAQ,CAAC,yBAAyB,EAAE,MAAM;EACxCA,QAAQ,CAAC,gBAAgB,EAAE,MAAM;IAC/BC,EAAE,CAAC,6BAA6B,EAAE,MAAM;MACtCC,MAAM,CAACC,cAAa,CAAC,CAACC,OAAO,CAAC,IAAAR,kBAAW,EAAC,CAAC,CAAC;IAC9C,CAAC,CAAC;IACFK,EAAE,CAAC,uCAAuC,EAAE,MAAM;MAChDC,MAAM,CAAC,IAAAN,kBAAW,EAAC,CAAC,CAACC,OAAO,CAAC,CAACO,OAAO,CAACC,eAAW,CAAC;IACpD,CAAC,CAAC;IACFL,QAAQ,CAAC,YAAY,EAAE,MAAM;MAC3BC,EAAE,CAAC,0EAA0E,EAAE,MAAM;QACnFC,MAAM,CAAC,IAAAN,kBAAW,EAAC,CAAC,CAACJ,UAAU,CAAC,CAACY,OAAO,CACtC,IAAAN,wCAAmB,EAAC,IAAAV,sBAAe,EAACkB,mBAAe,EAAE,IAAAnB,yBAAY,EAAC,CAAC,CAAC,CACtE,CAAC;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;EACFa,QAAQ,CAAC,mBAAmB,EAAE,MAAM;IAClCO,UAAU,CAAC,MAAM;MACfC,MAAM,CAACC,KAAK,GAAGC,SAAS;MACxBF,MAAM,CAACvB,OAAO,GAAGyB,SAAS;MAC1BF,MAAM,CAACtB,SAAS,GAAGwB,SAAS;IAC9B,CAAC,CAAC;IACFT,EAAE,CAAC,2CAA2C,EAAE,MAAM;MACpDU,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAG,aAAa;MACpC,MAAMJ,KAAK,GAAG,IAAAb,kBAAW,EAAC,CAAC;MAC3BM,MAAM,CAACM,MAAM,CAACC,KAAK,CAAC,CAACL,OAAO,CAACK,KAAK,CAAC;MACnCP,MAAM,CAACM,MAAM,CAACvB,OAAO,CAAC,CAACmB,OAAO,CAACnB,eAAO,CAAC;MACvCiB,MAAM,CAACM,MAAM,CAACtB,SAAS,CAAC,CAACkB,OAAO,CAAClB,iBAAS,CAAC;IAC7C,CAAC,CAAC;IACFe,EAAE,CAAC,kDAAkD,EAAE,MAAM;MAC3DU,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAG,YAAY;MACnC,IAAAjB,kBAAW,EAAC,CAAC;MACbM,MAAM,CAACM,MAAM,CAACC,KAAK,CAAC,CAACL,OAAO,CAACM,SAAS,CAAC;MACvCR,MAAM,CAACM,MAAM,CAACvB,OAAO,CAAC,CAACmB,OAAO,CAACM,SAAS,CAAC;MACzCR,MAAM,CAACM,MAAM,CAACtB,SAAS,CAAC,CAACkB,OAAO,CAACM,SAAS,CAAC;IAC7C,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"}