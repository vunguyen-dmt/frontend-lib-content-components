{"version":3,"file":"hooks.test.js","names":["reactRedux","_interopRequireWildcard","require","hooks","_utils","_testUtils","_utils2","appHooks","_redux","_analyticsEvt","_interopRequireDefault","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","jest","mock","requireActual","useRef","fn","val","current","useEffect","useCallback","cb","prereqs","dispatchFn","dispatch","useDispatch","useSelector","selectors","app","returnUrl","analytics","navigateCallback","args","navigateTo","state","MockUseState","hookKeys","keyStore","hook","testValue","describe","beforeEach","clearAllMocks","testGetter","highlighted","searchString","showSelectVideoError","showSizeError","sortBy","filertBy","hideSelectedVideos","afterEach","restore","searchAndSortProps","it","expect","stateVals","toEqual","sortKeys","dateNewest","test","onSearchChange","setState","toHaveBeenCalledWith","clearSearchString","onSortClick","not","toHaveBeenCalled","matching","notMatching","filterListBySearch","videoList","filterCb","calls","displayName","rawVideos","edx_video_id","client_video_id","course_video_image_url","created","status","duration","transcripts","expectedValues","id","externalUrl","dateAdded","locked","thumbnail","statusBadgeVariant","values","buildVideos","getstatusBadgeVariant","filterKeys","failed","uploading","processing","videoStatus","toBeNull","ready","props","searchSortProps","filterBy","videos","staTICUrl","filterList","load","spyOn","mockImplementationOnce","videoListProps","mockVal","selectBtnProps","onClick","galleryProps","onHighlightChange","displayList","show","galleryError","dismiss","handleVideoUpload","fileInputProps","click","search","fileInput","file","video","spies","mockReturnValueOnce","videoProps","handleCancel","destination","analyticsEvent","analyticsEvt","videoGalleryCancelClick"],"sources":["../../../../src/editors/containers/VideoGallery/hooks.test.js"],"sourcesContent":["import * as reactRedux from 'react-redux';\nimport * as hooks from './hooks';\nimport { filterKeys, sortKeys } from './utils';\nimport { MockUseState } from '../../../testUtils';\nimport { keyStore } from '../../utils';\nimport * as appHooks from '../../hooks';\nimport { selectors } from '../../data/redux';\nimport analyticsEvt from '../../data/constants/analyticsEvt';\n\njest.mock('react', () => ({\n  ...jest.requireActual('react'),\n  useRef: jest.fn(val => ({ current: val })),\n  useEffect: jest.fn(),\n  useCallback: (cb, prereqs) => ({ cb, prereqs }),\n}));\n\njest.mock('react-redux', () => {\n  const dispatchFn = jest.fn();\n  return {\n    ...jest.requireActual('react-redux'),\n    dispatch: dispatchFn,\n    useDispatch: jest.fn(() => dispatchFn),\n    useSelector: jest.fn(),\n  };\n});\n\njest.mock('../../data/redux', () => ({\n  selectors: {\n    app: {\n      returnUrl: 'returnUrl',\n      analytics: 'analytics',\n    },\n  },\n}));\n\njest.mock('../../hooks', () => ({\n  ...jest.requireActual('../../hooks'),\n  navigateCallback: jest.fn((args) => ({ navigateCallback: args })),\n  navigateTo: jest.fn((args) => ({ navigateTo: args })),\n}));\n\nconst state = new MockUseState(hooks);\nconst hookKeys = keyStore(hooks);\nlet hook;\nconst testValue = 'testVALUEVALID';\n\ndescribe('VideoGallery hooks', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n  describe('state hooks', () => {\n    state.testGetter(state.keys.highlighted);\n    state.testGetter(state.keys.searchString);\n    state.testGetter(state.keys.showSelectVideoError);\n    state.testGetter(state.keys.showSizeError);\n    state.testGetter(state.keys.sortBy);\n    state.testGetter(state.keys.filertBy);\n    state.testGetter(state.keys.hideSelectedVideos);\n  });\n  describe('using state', () => {\n    beforeEach(() => { state.mock(); });\n    afterEach(() => { state.restore(); });\n\n    describe('searchAndSortProps', () => {\n      beforeEach(() => {\n        hook = hooks.searchAndSortProps();\n      });\n      it('returns searchString value, initialized to an empty string', () => {\n        expect(state.stateVals.searchString).toEqual(hook.searchString);\n        expect(state.stateVals.searchString).toEqual('');\n      });\n      it('returns highlighted value, initialized to dateNewest', () => {\n        expect(state.stateVals.sortBy).toEqual(hook.sortBy);\n        expect(state.stateVals.sortBy).toEqual(sortKeys.dateNewest);\n      });\n      test('onSearchChange sets searchString with event target value', () => {\n        hook.onSearchChange({ target: { value: testValue } });\n        expect(state.setState.searchString).toHaveBeenCalledWith(testValue);\n      });\n      test('clearSearchString sets search string to empty string', () => {\n        hook.clearSearchString();\n        expect(state.setState.searchString).toHaveBeenCalledWith('');\n      });\n      test('onSortClick takes a key and returns callback to set sortBY to that key', () => {\n        hook.onSortClick(testValue);\n        expect(state.setState.sortBy).not.toHaveBeenCalled();\n        hook.onSortClick(testValue)();\n        expect(state.setState.sortBy).toHaveBeenCalledWith(testValue);\n      });\n    });\n    describe('filterListBySearch', () => {\n      const matching = [\n        'test',\n        'TEst',\n        'eeees',\n        'essSSSS',\n      ];\n      const notMatching = ['bad', 'other', 'bad stuff'];\n      const searchString = 'eS';\n      test('returns list filtered lowercase by displayName', () => {\n        const filter = jest.fn(cb => ({ filter: cb }));\n        hook = hooks.filterListBySearch({ searchString, videoList: { filter } });\n        expect(filter).toHaveBeenCalled();\n        const [[filterCb]] = filter.mock.calls;\n        matching.forEach(val => expect(filterCb({ displayName: val })).toEqual(true));\n        notMatching.forEach(val => expect(filterCb({ displayName: val })).toEqual(false));\n      });\n    });\n    describe('buildVideos', () => {\n      const rawVideos = [\n        {\n          edx_video_id: 'id_1',\n          client_video_id: 'client_id_1',\n          course_video_image_url: 'course_video_image_url_1',\n          created: 'created_1',\n          status: 'status_1',\n          duration: 1,\n          transcripts: [],\n        },\n        {\n          edx_video_id: 'id_2',\n          client_video_id: 'client_id_2',\n          course_video_image_url: 'course_video_image_url_2',\n          created: 'created_2',\n          status: 'status_2',\n          duration: 2,\n          transcripts: [],\n        },\n      ];\n      const expectedValues = [\n        {\n          id: 'id_1',\n          displayName: 'client_id_1',\n          externalUrl: 'course_video_image_url_1',\n          dateAdded: 'created_1',\n          locked: false,\n          thumbnail: 'course_video_image_url_1',\n          status: 'status_1',\n          statusBadgeVariant: null,\n          duration: 1,\n          transcripts: [],\n        },\n        {\n          id: 'id_2',\n          displayName: 'client_id_2',\n          externalUrl: 'course_video_image_url_2',\n          dateAdded: 'created_2',\n          locked: false,\n          thumbnail: 'course_video_image_url_2',\n          status: 'status_2',\n          statusBadgeVariant: null,\n          duration: 2,\n          transcripts: [],\n        },\n      ];\n      test('return the expected values', () => {\n        const values = hooks.buildVideos({ rawVideos });\n        expect(values).toEqual(expectedValues);\n      });\n    });\n    describe('getstatusBadgeVariant', () => {\n      test('return the expected values', () => {\n        let value = hooks.getstatusBadgeVariant({ status: filterKeys.failed });\n        expect(value).toEqual('danger');\n        value = hooks.getstatusBadgeVariant({ status: filterKeys.uploading });\n        expect(value).toEqual('light');\n        value = hooks.getstatusBadgeVariant({ status: filterKeys.processing });\n        expect(value).toEqual('light');\n        value = hooks.getstatusBadgeVariant({ status: filterKeys.videoStatus });\n        expect(value).toBeNull();\n        value = hooks.getstatusBadgeVariant({ status: filterKeys.ready });\n        expect(value).toBeNull();\n      });\n    });\n    describe('videoListProps outputs', () => {\n      const props = {\n        searchSortProps: {\n          searchString: 'Es',\n          sortBy: sortKeys.dateNewest,\n          filterBy: filterKeys.videoStatus,\n        },\n        videos: [\n          {\n            displayName: 'sOmEuiMAge',\n            staTICUrl: '/assets/sOmEuiMAge',\n            id: 'sOmEuiMAgeURl',\n          },\n        ],\n      };\n      const filterList = (args) => ({ filterList: args });\n      const load = () => {\n        jest.spyOn(hooks, hookKeys.filterList).mockImplementationOnce(filterList);\n        hook = hooks.videoListProps(props);\n      };\n      beforeEach(() => {\n        load();\n      });\n      describe('selectBtnProps', () => {\n        test('on click, if sets selection', () => {\n          const highlighted = 'videoId';\n          state.mockVal(state.keys.highlighted, highlighted);\n          load();\n          expect(appHooks.navigateTo).not.toHaveBeenCalled();\n          hook.selectBtnProps.onClick();\n          expect(appHooks.navigateTo).toHaveBeenCalled();\n        });\n        test('on click, sets showSelectVideoError to true if nothing is highlighted', () => {\n          state.mockVal(state.keys.highlighted, null);\n          load();\n          hook.selectBtnProps.onClick();\n          expect(appHooks.navigateTo).not.toHaveBeenCalled();\n          expect(state.setState.showSelectVideoError).toHaveBeenCalledWith(true);\n        });\n      });\n      describe('galleryProps', () => {\n        it('returns highlighted value, initialized to null', () => {\n          expect(hook.galleryProps.highlighted).toEqual(state.stateVals.highlighted);\n          expect(state.stateVals.highlighted).toEqual(null);\n        });\n        test('onHighlightChange sets highlighted with event target value', () => {\n          hook.galleryProps.onHighlightChange({ target: { value: testValue } });\n          expect(state.setState.highlighted).toHaveBeenCalledWith(testValue);\n        });\n        test('displayList returns filterListhook called with searchSortProps and videos', () => {\n          expect(hook.galleryProps.displayList).toEqual(filterList({\n            ...props.searchSortProps,\n            videos: props.videos,\n          }));\n        });\n      });\n      describe('galleryError', () => {\n        test('show is initialized to false and returns properly', () => {\n          const show = 'sHOWSelectiRROr';\n          expect(hook.galleryError.show).toEqual(false);\n          state.mockVal(state.keys.showSelectVideoError, show);\n          hook = hooks.videoListProps(props);\n          expect(hook.galleryError.show).toEqual(show);\n        });\n        test('set sets showSelectVideoError to true', () => {\n          hook.galleryError.set();\n          expect(state.setState.showSelectVideoError).toHaveBeenCalledWith(true);\n        });\n        test('dismiss sets showSelectVideoError to false', () => {\n          hook.galleryError.dismiss();\n          expect(state.setState.showSelectVideoError).toHaveBeenCalledWith(false);\n        });\n      });\n    });\n  });\n  describe('fileInputHooks', () => {\n    test('click calls current.click on the ref', () => {\n      jest.spyOn(hooks, hookKeys.handleVideoUpload).mockImplementationOnce();\n      expect(hooks.handleVideoUpload).not.toHaveBeenCalled();\n      hook = hooks.fileInputProps();\n      expect(hooks.handleVideoUpload).toHaveBeenCalled();\n      expect(appHooks.navigateTo).not.toHaveBeenCalled();\n      hook.click();\n      expect(appHooks.navigateTo).toHaveBeenCalled();\n    });\n  });\n  describe('videoProps', () => {\n    const videoList = {\n      galleryProps: 'some gallery props',\n      selectBtnProps: 'some select btn props',\n    };\n    const searchAndSortProps = { search: 'props' };\n    const fileInput = { file: 'input hooks' };\n    const videos = { video: { staTICUrl: '/assets/sOmEuiMAge' } };\n    const spies = {};\n    beforeEach(() => {\n      spies.videoList = jest.spyOn(hooks, hookKeys.videoListProps)\n        .mockReturnValueOnce(videoList);\n      spies.search = jest.spyOn(hooks, hookKeys.searchAndSortProps)\n        .mockReturnValueOnce(searchAndSortProps);\n      spies.file = jest.spyOn(hooks, hookKeys.fileInputProps)\n        .mockReturnValueOnce(fileInput);\n      hook = hooks.videoProps({ videos });\n    });\n    it('forwards fileInput as fileInput', () => {\n      expect(hook.fileInput).toEqual(fileInput);\n      expect(spies.file.mock.calls.length).toEqual(1);\n      expect(spies.file).toHaveBeenCalled();\n    });\n    it('initializes videoList', () => {\n      expect(spies.videoList.mock.calls.length).toEqual(1);\n      expect(spies.videoList).toHaveBeenCalledWith({\n        searchSortProps: searchAndSortProps,\n        videos,\n      });\n    });\n    it('forwards searchAndSortHooks as searchSortProps', () => {\n      expect(hook.searchSortProps).toEqual(searchAndSortProps);\n      expect(spies.search.mock.calls.length).toEqual(1);\n      expect(spies.search).toHaveBeenCalled();\n    });\n    it('forwards galleryProps and selectBtnProps from the video list hooks', () => {\n      expect(hook.galleryProps).toEqual(videoList.galleryProps);\n      expect(hook.selectBtnProps).toEqual(videoList.selectBtnProps);\n    });\n  });\n  describe('handleCancel', () => {\n    it('calls navigateCallback', () => {\n      expect(hooks.handleCancel()).toEqual(\n        appHooks.navigateCallback({\n          destination: reactRedux.useSelector(selectors.app.returnUrl),\n          analyticsEvent: analyticsEvt.videoGalleryCancelClick,\n          analytics: reactRedux.useSelector(selectors.app.analytics),\n        }),\n      );\n    });\n  });\n});\n"],"mappings":"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"}