{"version":3,"file":"AnswerOption.js","names":["_react","_interopRequireWildcard","require","_reactRedux","_propTypes","_interopRequireDefault","_paragon","_icons","_i18n","_messages","_redux","_types","_Checker","_Feedback","hooks","_problem","_ExpandableTextArea","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","AnswerOption","_ref","answer","hasSingleAnswer","intl","problemType","dispatch","useDispatch","removeAnswer","setAnswer","setAnswerTitle","setSelectedFeedback","setUnselectedFeedback","isFeedbackVisible","toggleFeedback","useFeedback","getInputArea","ProblemTypeKeys","SINGLESELECT","MULTISELECT","includes","jsx","title","setContent","placeholder","formatMessage","messages","answerTextboxPlaceholder","id","NUMERIC","isAnswerRange","Form","Control","as","className","autoResize","rows","onChange","jsxs","children","answerRangeTextboxPlaceholder","FormattedMessage","answerRangeHelperText","Collapsible","Advanced","open","onToggle","disabled","Body","FeedbackBox","Trigger","Icon","src","FeedbackOutline","alt","feedbackToggleIconAltText","IconButton","DeleteOutline","iconAs","answerDeleteIconAltText","onClick","variant","exports","propTypes","answerOptionProps","isRequired","PropTypes","bool","intlShape","string","mapStateToProps","state","selectors","problem","mapDispatchToProps","_default","injectIntl","connect","memo"],"sources":["../../../../../../../src/editors/containers/ProblemEditor/components/EditProblemView/AnswerWidget/AnswerOption.jsx"],"sourcesContent":["import React, { memo } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n  Collapsible,\n  Icon,\n  IconButton,\n  Form,\n} from '@edx/paragon';\nimport { FeedbackOutline, DeleteOutline } from '@edx/paragon/icons';\nimport { FormattedMessage, injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport messages from './messages';\nimport { selectors } from '../../../../../data/redux';\nimport { answerOptionProps } from '../../../../../data/services/cms/types';\nimport Checker from './components/Checker';\nimport { FeedbackBox } from './components/Feedback';\nimport * as hooks from './hooks';\nimport { ProblemTypeKeys } from '../../../../../data/constants/problem';\nimport ExpandableTextArea from '../../../../../sharedComponents/ExpandableTextArea';\n\nexport const AnswerOption = ({\n  answer,\n  hasSingleAnswer,\n  // injected\n  intl,\n  // redux\n  problemType,\n}) => {\n  const dispatch = useDispatch();\n  const removeAnswer = hooks.removeAnswer({ answer, dispatch });\n  const setAnswer = hooks.setAnswer({ answer, hasSingleAnswer, dispatch });\n  const setAnswerTitle = hooks.setAnswerTitle({\n    answer,\n    hasSingleAnswer,\n    dispatch,\n    problemType,\n  });\n  const setSelectedFeedback = hooks.setSelectedFeedback({ answer, hasSingleAnswer, dispatch });\n  const setUnselectedFeedback = hooks.setUnselectedFeedback({ answer, hasSingleAnswer, dispatch });\n  const { isFeedbackVisible, toggleFeedback } = hooks.useFeedback(answer);\n\n  const getInputArea = () => {\n    if ([ProblemTypeKeys.SINGLESELECT, ProblemTypeKeys.MULTISELECT].includes(problemType)) {\n      return (\n        <ExpandableTextArea\n          value={answer.title}\n          setContent={setAnswerTitle}\n          placeholder={intl.formatMessage(messages.answerTextboxPlaceholder)}\n          id={`answer-${answer.id}`}\n        />\n      );\n    }\n    if (problemType !== ProblemTypeKeys.NUMERIC || !answer.isAnswerRange) {\n      return (\n        <Form.Control\n          as=\"textarea\"\n          className=\"answer-option-textarea text-gray-500 small\"\n          autoResize\n          rows={1}\n          value={answer.title}\n          onChange={setAnswerTitle}\n          placeholder={intl.formatMessage(messages.answerTextboxPlaceholder)}\n        />\n      );\n    }\n    // Return Answer Range View\n    return (\n      <div>\n        <Form.Control\n          as=\"textarea\"\n          className=\"answer-option-textarea text-gray-500 small\"\n          autoResize\n          rows={1}\n          value={answer.title}\n          onChange={setAnswerTitle}\n          placeholder={intl.formatMessage(messages.answerRangeTextboxPlaceholder)}\n        />\n        <div className=\"pgn__form-switch-helper-text\">\n          <FormattedMessage {...messages.answerRangeHelperText} />\n        </div>\n      </div>\n\n    );\n  };\n\n  return (\n    <Collapsible.Advanced\n      open={isFeedbackVisible}\n      onToggle={toggleFeedback}\n      className=\"answer-option d-flex flex-row justify-content-between flex-nowrap pb-2 pt-2\"\n    >\n      <div className=\"mr-1 d-flex\">\n        <Checker\n          hasSingleAnswer={hasSingleAnswer}\n          answer={answer}\n          setAnswer={setAnswer}\n          disabled={problemType === ProblemTypeKeys.NUMERIC}\n        />\n      </div>\n      <div className=\"ml-1 flex-grow-1\">\n        {getInputArea()}\n        <Collapsible.Body>\n          <FeedbackBox\n            problemType={problemType}\n            answer={answer}\n            setSelectedFeedback={setSelectedFeedback}\n            setUnselectedFeedback={setUnselectedFeedback}\n            intl={intl}\n          />\n        </Collapsible.Body>\n      </div>\n      <div className=\"d-flex flex-row flex-nowrap\">\n        <Collapsible.Trigger aria-label=\"Toggle feedback\" className=\"btn-icon btn-icon-primary btn-icon-md align-items-center\">\n          <Icon\n            src={FeedbackOutline}\n            alt={intl.formatMessage(messages.feedbackToggleIconAltText)}\n          />\n        </Collapsible.Trigger>\n        <IconButton\n          src={DeleteOutline}\n          iconAs={Icon}\n          alt={intl.formatMessage(messages.answerDeleteIconAltText)}\n          onClick={removeAnswer}\n          variant=\"primary\"\n        />\n      </div>\n    </Collapsible.Advanced>\n  );\n};\n\nAnswerOption.propTypes = {\n  answer: answerOptionProps.isRequired,\n  hasSingleAnswer: PropTypes.bool.isRequired,\n  // injected\n  intl: intlShape.isRequired,\n  // redux\n  problemType: PropTypes.string.isRequired,\n};\n\nexport const mapStateToProps = (state) => ({\n  problemType: selectors.problem.problemType(state),\n});\n\nexport const mapDispatchToProps = {};\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(memo(AnswerOption)));\n"],"mappings":"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"}