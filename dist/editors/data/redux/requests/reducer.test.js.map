{"version":3,"file":"reducer.test.js","names":["_reducer","require","_requests","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","describe","test","expect","reducer","toEqual","initialState","arbitraryKey","requestsList","RequestKeys","fetchUnit","fetchBlock","saveBlock","requestKey","testAction","action","args","expected","testingState","arbitraryField","arbitrary","actions","status","RequestStates","pending","completed","failed"],"sources":["../../../../../src/editors/data/redux/requests/reducer.test.js"],"sourcesContent":["import { initialState, actions, reducer } from './reducer';\nimport { RequestStates, RequestKeys } from '../../constants/requests';\n\ndescribe('requests reducer', () => {\n  test('intial state generated on create', () => {\n    expect(reducer(undefined, {})).toEqual(initialState);\n  });\n\n  describe('handling actions', () => {\n    const arbitraryKey = 'ArbItrAryKey';\n    const requestsList = [RequestKeys.fetchUnit, RequestKeys.fetchBlock, RequestKeys.saveBlock, arbitraryKey];\n\n    requestsList.forEach(requestKey => {\n      describe(`${requestKey} lifecycle`, () => {\n        const testAction = (action, args, expected) => {\n          const testingState = {\n            ...initialState,\n            arbitraryField: 'arbitrary',\n            [requestKey]: { arbitrary: 'state' },\n          };\n          expect(reducer(testingState, actions[action](args))).toEqual({\n            ...testingState,\n            [requestKey]: expected,\n          });\n        };\n        test('startRequest sets pending status', () => {\n          testAction('startRequest', requestKey, { status: RequestStates.pending });\n        });\n        test('completeRequest sets completed status and loads response', () => {\n          testAction(\n            'completeRequest',\n            { requestKey },\n            { status: RequestStates.completed },\n          );\n        });\n        test('failRequest sets failed state and loads error', () => {\n          testAction(\n            'failRequest',\n            { requestKey },\n            { status: RequestStates.failed },\n          );\n        });\n        test('clearRequest clears request state', () => {\n          testAction('clearRequest', { requestKey }, {});\n        });\n      });\n    });\n  });\n});\n"],"mappings":"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"}