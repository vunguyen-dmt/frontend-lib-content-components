{"version":3,"file":"index.js","names":["_react","_interopRequireDefault","require","_reactRedux","_propTypes","_i18n","_paragon","_redux","_CollapsibleFormWidget","_messages","hooks","_interopRequireWildcard","_jsxRuntime","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","SocialShareWidget","_ref","intl","allowVideoSharing","isLibrary","videoSharingEnabledForAll","videoSharingEnabledForCourse","videoSharingLearnMoreLink","updateField","isSetByCourse","level","videoSharingEnabled","learnMoreLink","onSocialSharingCheckboxChange","useTrackSocialSharingChange","getSubtitle","formatMessage","messages","enabledSubtitle","disabledSubtitle","jsxs","fontSize","title","subtitle","children","jsx","FormattedMessage","socialSharingDescription","Form","Checkbox","className","checked","disabled","onChange","socialSharingCheckboxLabel","Fragment","overrideSocialSharingNote","disclaimerSettingLocation","Hyperlink","destination","learnMoreLinkLabel","exports","defaultProps","propTypes","intlShape","isRequired","PropTypes","shape","string","bool","func","mapStateToProps","state","selectors","video","app","mapDispatchToProps","dispatch","stateUpdate","actions","_default","injectIntl","connect"],"sources":["../../../../../../../../src/editors/containers/VideoEditor/components/VideoSettingsModal/components/SocialShareWidget/index.jsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n  FormattedMessage,\n  injectIntl,\n  intlShape,\n} from '@edx/frontend-platform/i18n';\nimport {\n  Hyperlink,\n  Form,\n} from '@edx/paragon';\n\nimport { selectors, actions } from '../../../../../../data/redux';\nimport CollapsibleFormWidget from '../CollapsibleFormWidget';\nimport messages from './messages';\nimport * as hooks from './hooks';\n\n/**\n * Collapsible Form widget controlling video thumbnail\n */\nexport const SocialShareWidget = ({\n  // injected\n  intl,\n  // redux\n  allowVideoSharing,\n  isLibrary,\n  videoSharingEnabledForAll,\n  videoSharingEnabledForCourse,\n  videoSharingLearnMoreLink,\n  updateField,\n}) => {\n  const isSetByCourse = allowVideoSharing.level === 'course';\n  const videoSharingEnabled = isLibrary ? videoSharingEnabledForAll : videoSharingEnabledForCourse;\n  const learnMoreLink = videoSharingLearnMoreLink || 'http://edx.readthedocs.io/projects/open-edx-building-and-running-a-course/en/latest/developing_course/social_sharing.html';\n  const onSocialSharingCheckboxChange = hooks.useTrackSocialSharingChange({ updateField });\n\n  const getSubtitle = () => {\n    if (allowVideoSharing.value) {\n      return intl.formatMessage(messages.enabledSubtitle);\n    }\n    return intl.formatMessage(messages.disabledSubtitle);\n  };\n\n  return (videoSharingEnabled ? (\n    <CollapsibleFormWidget\n      fontSize=\"x-small\"\n      title={intl.formatMessage(messages.title)}\n      subtitle={getSubtitle()}\n    >\n      <div>\n        <FormattedMessage {...messages.socialSharingDescription} />\n      </div>\n      <Form.Checkbox\n        className=\"mt-3\"\n        checked={allowVideoSharing.value}\n        disabled={isSetByCourse}\n        onChange={onSocialSharingCheckboxChange}\n      >\n        <div className=\"small text-gray-700\">\n          {intl.formatMessage(messages.socialSharingCheckboxLabel)}\n        </div>\n      </Form.Checkbox>\n      {isSetByCourse && (\n        <>\n          <div className=\"mt-2\">\n            <FormattedMessage {...messages.overrideSocialSharingNote} />\n          </div>\n          <div>\n            <FormattedMessage {...messages.disclaimerSettingLocation} />\n          </div>\n        </>\n      )}\n      <div className=\"mt-3\">\n        <Hyperlink className=\"text-primary-500\" destination={learnMoreLink} target=\"_blank\">\n          {intl.formatMessage(messages.learnMoreLinkLabel)}\n        </Hyperlink>\n      </div>\n    </CollapsibleFormWidget>\n  ) : null);\n};\n\nSocialShareWidget.defaultProps = {\n  allowVideoSharing: {\n    level: 'block',\n    value: false,\n  },\n  videoSharingEnabledForCourse: false,\n  videoSharingEnabledForAll: false,\n};\n\nSocialShareWidget.propTypes = {\n  // injected\n  intl: intlShape.isRequired,\n  // redux\n  allowVideoSharing: PropTypes.shape({\n    level: PropTypes.string.isRequired,\n    value: PropTypes.bool.isRequired,\n  }),\n  isLibrary: PropTypes.bool.isRequired,\n  videoSharingEnabledForAll: PropTypes.bool,\n  videoSharingEnabledForCourse: PropTypes.bool,\n  videoSharingLearnMoreLink: PropTypes.string.isRequired,\n  updateField: PropTypes.func.isRequired,\n};\n\nexport const mapStateToProps = (state) => ({\n  allowVideoSharing: selectors.video.allowVideoSharing(state),\n  isLibrary: selectors.app.isLibrary(state),\n  videoSharingLearnMoreLink: selectors.video.videoSharingLearnMoreLink(state),\n  videoSharingEnabledForAll: selectors.video.videoSharingEnabledForAll(state),\n  videoSharingEnabledForCourse: selectors.video.videoSharingEnabledForCourse(state),\n});\n\nexport const mapDispatchToProps = (dispatch) => ({\n  updateField: (stateUpdate) => dispatch(actions.video.updateField(stateUpdate)),\n});\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(SocialShareWidget));\n"],"mappings":"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"}