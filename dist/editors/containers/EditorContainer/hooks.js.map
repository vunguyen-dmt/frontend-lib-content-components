{"version":3,"file":"hooks.js","names":["_react","require","_reactRedux","_analyticsEvt","_interopRequireDefault","_requests","_redux","_utils","appHooks","_interopRequireWildcard","_module","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","clearSaveError","navigateCallback","nullMethod","saveBlock","exports","state","StrictDict","isCancelConfirmModalOpen","val","useState","handleSaveClicked","_ref","dispatch","getContent","validateEntry","returnFunction","returnUrl","useSelector","selectors","app","destination","analytics","content","cancelConfirmModalToggle","isCancelConfirmOpen","setIsOpen","module","openCancelConfirmModal","closeCancelConfirmModal","handleCancel","_ref2","onClose","analyticsEvent","analyticsEvt","editorCancelClick","isInitialized","saveFailed","rootState","requests","isFailed","requestKey","RequestKeys"],"sources":["../../../../src/editors/containers/EditorContainer/hooks.js"],"sourcesContent":["import { useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport analyticsEvt from '../../data/constants/analyticsEvt';\nimport { RequestKeys } from '../../data/constants/requests';\nimport { selectors } from '../../data/redux';\nimport { StrictDict } from '../../utils';\nimport * as appHooks from '../../hooks';\nimport * as module from './hooks';\n\nexport const {\n  clearSaveError,\n  navigateCallback,\n  nullMethod,\n  saveBlock,\n} = appHooks;\n\nexport const state = StrictDict({\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  isCancelConfirmModalOpen: (val) => useState(val),\n});\n\nexport const handleSaveClicked = ({\n  dispatch,\n  getContent,\n  validateEntry,\n  returnFunction,\n}) => {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const returnUrl = useSelector(selectors.app.returnUrl);\n  const destination = returnFunction ? '' : returnUrl;\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const analytics = useSelector(selectors.app.analytics);\n\n  return () => saveBlock({\n    analytics,\n    content: getContent({ dispatch }),\n    destination,\n    dispatch,\n    returnFunction,\n    validateEntry,\n  });\n};\n\nexport const cancelConfirmModalToggle = () => {\n  const [isCancelConfirmOpen, setIsOpen] = module.state.isCancelConfirmModalOpen(false);\n  return {\n    isCancelConfirmOpen,\n    openCancelConfirmModal: () => setIsOpen(true),\n    closeCancelConfirmModal: () => setIsOpen(false),\n  };\n};\n\nexport const handleCancel = ({ onClose, returnFunction }) => {\n  if (onClose) {\n    return onClose;\n  }\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const returnUrl = useSelector(selectors.app.returnUrl);\n  return navigateCallback({\n    returnFunction,\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    destination: returnFunction ? '' : returnUrl,\n    analyticsEvent: analyticsEvt.editorCancelClick,\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    analytics: useSelector(selectors.app.analytics),\n  });\n};\n\n// eslint-disable-next-line react-hooks/rules-of-hooks\nexport const isInitialized = () => useSelector(selectors.app.isInitialized);\n\n// eslint-disable-next-line react-hooks/rules-of-hooks\nexport const saveFailed = () => useSelector((rootState) => (\n  selectors.requests.isFailed(rootState, { requestKey: RequestKeys.saveBlock })\n));\n"],"mappings":"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"}