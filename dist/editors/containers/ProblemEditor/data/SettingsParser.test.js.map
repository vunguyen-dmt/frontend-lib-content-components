{"version":3,"file":"SettingsParser.test.js","names":["_SettingsParser","require","_problemTestData","_excluded","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","keys","describe","defaultSettings","max_attempts","test","settings","parseSettings","checklistWithFeebackHints","metadata","_checklistWithFeeback","state","hints","settingsPayload","expect","toStrictEqual","scoreSettings","parseScoringSettings","scoring","numericWithHints","singleSelectWithHints","attempts","number","unlimited","negativeAttempts","randomization","toBeUndefined","showAnswerSettings","parseShowAnswer","on","textInputWithHints","showAnswer"],"sources":["../../../../../src/editors/containers/ProblemEditor/data/SettingsParser.test.js"],"sourcesContent":["import { parseScoringSettings, parseSettings, parseShowAnswer } from './SettingsParser';\nimport {\n  checklistWithFeebackHints,\n  numericWithHints,\n  textInputWithHints,\n  singleSelectWithHints,\n  negativeAttempts,\n} from './mockData/problemTestData';\n\ndescribe('Test Settings to State Parser', () => {\n  const defaultSettings = { max_attempts: 1 };\n  test('Test all fields populated', () => {\n    const settings = parseSettings(checklistWithFeebackHints.metadata, defaultSettings);\n    const { hints, ...settingsPayload } = checklistWithFeebackHints.state.settings;\n    expect(settings).toStrictEqual(settingsPayload);\n  });\n\n  test('Test score settings', () => {\n    const scoreSettings = parseScoringSettings(checklistWithFeebackHints.metadata, defaultSettings);\n    expect(scoreSettings).toStrictEqual(checklistWithFeebackHints.state.settings.scoring);\n  });\n\n  test('Test score settings zero attempts', () => {\n    const scoreSettings = parseScoringSettings(numericWithHints.metadata, defaultSettings);\n    expect(scoreSettings).toStrictEqual(numericWithHints.state.settings.scoring);\n  });\n\n  test('Test score settings attempts missing with no default max_attempts', () => {\n    const scoreSettings = parseScoringSettings(singleSelectWithHints.metadata, {});\n    expect(scoreSettings.attempts).toStrictEqual(singleSelectWithHints.state.settings.scoring.attempts);\n  });\n\n  test('Test score settings attempts missing with default max_attempts', () => {\n    const scoreSettings = parseScoringSettings(singleSelectWithHints.metadata, defaultSettings);\n    expect(scoreSettings.attempts).toStrictEqual({ number: null, unlimited: false });\n  });\n\n  test('Test negative attempts in score', () => {\n    const scoreSettings = parseScoringSettings(negativeAttempts.metadata, defaultSettings);\n    expect(scoreSettings.attempts).toStrictEqual(negativeAttempts.state.settings.scoring.attempts);\n  });\n\n  test('Test score settings missing with no default', () => {\n    const settings = parseSettings(singleSelectWithHints.metadata, {});\n    expect(settings.scoring).toStrictEqual(singleSelectWithHints.state.settings.scoring);\n  });\n\n  test('Test score settings missing with default', () => {\n    const settings = parseSettings(singleSelectWithHints.metadata, defaultSettings);\n    expect(settings.scoring).toStrictEqual({ attempts: { number: null, unlimited: false } });\n  });\n\n  test('Test score settings missing with null default', () => {\n    const settings = parseSettings(singleSelectWithHints.metadata, { max_attempts: null });\n    expect(settings.scoring).toStrictEqual({ attempts: { number: null, unlimited: true } });\n  });\n\n  test('Test invalid randomization', () => {\n    const settings = parseSettings(numericWithHints.metadata, defaultSettings);\n    expect(settings.randomization).toBeUndefined();\n  });\n\n  test('Test invalid show answer', () => {\n    const showAnswerSettings = parseShowAnswer(numericWithHints.metadata);\n    expect(showAnswerSettings.on).toBeUndefined();\n  });\n\n  test('Test show answer settings missing', () => {\n    const settings = parseShowAnswer(textInputWithHints.metadata);\n    expect(settings.showAnswer).toBeUndefined();\n  });\n\n  test('Test empty metadata', () => {\n    const scoreSettings = parseSettings({}, defaultSettings);\n    expect(scoreSettings).toStrictEqual({});\n  });\n\n  test('Test null metadata', () => {\n    const scoreSettings = parseSettings(null, defaultSettings);\n    expect(scoreSettings).toStrictEqual({});\n  });\n});\n"],"mappings":"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"}