{"version":3,"file":"DraggableList.js","names":["_react","_interopRequireDefault","require","_propTypes","_core","_sortable","_jsxRuntime","obj","__esModule","default","DraggableList","_ref","itemList","setState","updateOrder","children","sensors","useSensors","useSensor","PointerSensor","KeyboardSensor","coordinateGetter","sortableKeyboardCoordinates","handleDragEnd","event","active","over","id","updatedArray","activeElement","filter","item","overElement","oldIndex","indexOf","newIndex","arrayMove","jsx","DndContext","collisionDetection","closestCenter","onDragEnd","SortableContext","items","strategy","verticalListSortingStrategy","propTypes","PropTypes","arrayOf","shape","string","isRequired","func","node","_default","exports"],"sources":["../../../../src/editors/sharedComponents/DraggableList/DraggableList.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable';\n\nconst DraggableList = ({\n  itemList,\n  setState,\n  updateOrder,\n  children,\n}) => {\n  const sensors = useSensors(\n    useSensor(PointerSensor),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    }),\n  );\n\n  const handleDragEnd = (event) => {\n    const { active, over } = event;\n    if (active.id !== over.id) {\n      let updatedArray;\n      setState(() => {\n        const [activeElement] = itemList.filter(item => item.id === active.id);\n        const [overElement] = itemList.filter(item => item.id === over.id);\n        const oldIndex = itemList.indexOf(activeElement);\n        const newIndex = itemList.indexOf(overElement);\n        updatedArray = arrayMove(itemList, oldIndex, newIndex);\n        return updatedArray;\n      });\n      updateOrder()(updatedArray);\n    }\n  };\n\n  return (\n    <DndContext\n      sensors={sensors}\n      collisionDetection={closestCenter}\n      onDragEnd={handleDragEnd}\n    >\n      <SortableContext\n        items={itemList}\n        strategy={verticalListSortingStrategy}\n      >\n        {children}\n      </SortableContext>\n    </DndContext>\n  );\n};\n\nDraggableList.propTypes = {\n  itemList: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n  })).isRequired,\n  setState: PropTypes.func.isRequired,\n  updateOrder: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default DraggableList;\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEA,IAAAE,KAAA,GAAAF,OAAA;AAQA,IAAAG,SAAA,GAAAH,OAAA;AAK2B,IAAAI,WAAA,GAAAJ,OAAA;AAAA,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3B,MAAMG,aAAa,GAAGC,IAAA,IAKhB;EAAA,IALiB;IACrBC,QAAQ;IACRC,QAAQ;IACRC,WAAW;IACXC;EACF,CAAC,GAAAJ,IAAA;EACC,MAAMK,OAAO,GAAG,IAAAC,gBAAU,EACxB,IAAAC,eAAS,EAACC,mBAAa,CAAC,EACxB,IAAAD,eAAS,EAACE,oBAAc,EAAE;IACxBC,gBAAgB,EAAEC;EACpB,CAAC,CACH,CAAC;EAED,MAAMC,aAAa,GAAIC,KAAK,IAAK;IAC/B,MAAM;MAAEC,MAAM;MAAEC;IAAK,CAAC,GAAGF,KAAK;IAC9B,IAAIC,MAAM,CAACE,EAAE,KAAKD,IAAI,CAACC,EAAE,EAAE;MACzB,IAAIC,YAAY;MAChBf,QAAQ,CAAC,MAAM;QACb,MAAM,CAACgB,aAAa,CAAC,GAAGjB,QAAQ,CAACkB,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACJ,EAAE,KAAKF,MAAM,CAACE,EAAE,CAAC;QACtE,MAAM,CAACK,WAAW,CAAC,GAAGpB,QAAQ,CAACkB,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACJ,EAAE,KAAKD,IAAI,CAACC,EAAE,CAAC;QAClE,MAAMM,QAAQ,GAAGrB,QAAQ,CAACsB,OAAO,CAACL,aAAa,CAAC;QAChD,MAAMM,QAAQ,GAAGvB,QAAQ,CAACsB,OAAO,CAACF,WAAW,CAAC;QAC9CJ,YAAY,GAAG,IAAAQ,mBAAS,EAACxB,QAAQ,EAAEqB,QAAQ,EAAEE,QAAQ,CAAC;QACtD,OAAOP,YAAY;MACrB,CAAC,CAAC;MACFd,WAAW,CAAC,CAAC,CAACc,YAAY,CAAC;IAC7B;EACF,CAAC;EAED,oBACE,IAAAtB,WAAA,CAAA+B,GAAA,EAACjC,KAAA,CAAAkC,UAAU;IACTtB,OAAO,EAAEA,OAAQ;IACjBuB,kBAAkB,EAAEC,mBAAc;IAClCC,SAAS,EAAElB,aAAc;IAAAR,QAAA,eAEzB,IAAAT,WAAA,CAAA+B,GAAA,EAAChC,SAAA,CAAAqC,eAAe;MACdC,KAAK,EAAE/B,QAAS;MAChBgC,QAAQ,EAAEC,qCAA4B;MAAA9B,QAAA,EAErCA;IAAQ,CACM;EAAC,CACR,CAAC;AAEjB,CAAC;AAEDL,aAAa,CAACoC,SAAS,GAAG;EACxBlC,QAAQ,EAAEmC,kBAAS,CAACC,OAAO,CAACD,kBAAS,CAACE,KAAK,CAAC;IAC1CtB,EAAE,EAAEoB,kBAAS,CAACG,MAAM,CAACC;EACvB,CAAC,CAAC,CAAC,CAACA,UAAU;EACdtC,QAAQ,EAAEkC,kBAAS,CAACK,IAAI,CAACD,UAAU;EACnCrC,WAAW,EAAEiC,kBAAS,CAACK,IAAI,CAACD,UAAU;EACtCpC,QAAQ,EAAEgC,kBAAS,CAACM,IAAI,CAACF;AAC3B,CAAC;AAAC,IAAAG,QAAA,GAAAC,OAAA,CAAA9C,OAAA,GAEaC,aAAa"}