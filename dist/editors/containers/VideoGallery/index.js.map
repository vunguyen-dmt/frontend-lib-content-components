{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_reactRedux","_redux","_hooks","_interopRequireDefault","_SelectionModal","_utils","_messages","_requests","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","VideoGallery","rawVideos","useSelector","selectors","app","videos","isLoaded","state","requests","isFinished","requestKey","RequestKeys","fetchVideos","isFetchError","isFailed","isUploadError","uploadVideo","hooks","buildVideos","handleVideoUpload","useVideoUploadHandler","useEffect","length","galleryError","inputError","fileInput","galleryProps","searchSortProps","selectBtnProps","useVideoProps","handleCancel","useCancelHandler","modalMessages","confirmMsg","messages","selectVideoButtonlabel","titleMsg","titleLabel","uploadButtonMsg","uploadButtonLabel","fetchError","fetchVideosError","uploadError","uploadVideoError","jsx","isOpen","close","size","isFullscreenScroll","acceptedFiles","acceptedImgKeys","exports","propTypes","_default"],"sources":["../../../../src/editors/containers/VideoGallery/index.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectors } from '../../data/redux';\nimport hooks from './hooks';\nimport SelectionModal from '../../sharedComponents/SelectionModal';\nimport { acceptedImgKeys } from './utils';\nimport messages from './messages';\nimport { RequestKeys } from '../../data/constants/requests';\n\nexport const VideoGallery = () => {\n  const rawVideos = useSelector(selectors.app.videos);\n  const isLoaded = useSelector(\n    (state) => selectors.requests.isFinished(state, { requestKey: RequestKeys.fetchVideos }),\n  );\n  const isFetchError = useSelector(\n    (state) => selectors.requests.isFailed(state, { requestKey: RequestKeys.fetchVideos }),\n  );\n  const isUploadError = useSelector(\n    (state) => selectors.requests.isFailed(state, { requestKey: RequestKeys.uploadVideo }),\n  );\n  const videos = hooks.buildVideos({ rawVideos });\n  const handleVideoUpload = hooks.useVideoUploadHandler();\n\n  useEffect(() => {\n    // If no videos exists redirects to the video upload screen\n    if (isLoaded && videos.length === 0) {\n      handleVideoUpload();\n    }\n  }, [isLoaded]);\n  const {\n    galleryError,\n    inputError,\n    fileInput,\n    galleryProps,\n    searchSortProps,\n    selectBtnProps,\n  } = hooks.useVideoProps({ videos });\n  const handleCancel = hooks.useCancelHandler();\n\n  const modalMessages = {\n    confirmMsg: messages.selectVideoButtonlabel,\n    titleMsg: messages.titleLabel,\n    uploadButtonMsg: messages.uploadButtonLabel,\n    fetchError: messages.fetchVideosError,\n    uploadError: messages.uploadVideoError,\n  };\n\n  return (\n    <SelectionModal\n      {...{\n        isOpen: true,\n        close: handleCancel,\n        size: 'fullscreen',\n        isFullscreenScroll: false,\n        galleryError,\n        inputError,\n        fileInput,\n        galleryProps,\n        searchSortProps,\n        selectBtnProps,\n        acceptedFiles: acceptedImgKeys,\n        modalMessages,\n        isLoaded,\n        isUploadError,\n        isFetchError,\n      }}\n    />\n  );\n};\n\nVideoGallery.propTypes = {};\n\nexport default VideoGallery;\n"],"mappings":"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"}