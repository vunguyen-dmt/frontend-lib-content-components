{"version":3,"file":"ErrorPage.js","names":["_react","_interopRequireDefault","require","_reactRedux","_propTypes","_paragon","_i18n","_messages","_hooks","_redux","_jsxRuntime","obj","__esModule","default","ErrorPage","_ref","message","studioEndpointUrl","learningContextId","unitData","intl","outlineType","startsWith","outlineUrl","unitUrl","data","ancestors","id","jsx","Container","fluid","className","children","Row","jsxs","Col","formatMessage","messages","unexpectedError","role","Button","variant","onClick","navigateTo","returnToUnitPageLabel","returnToOutlineLabel","global","location","reload","unexpectedErrorButtonLabel","exports","propTypes","PropTypes","string","isRequired","shape","arrayOf","intlShape","defaultProps","mapStateToProps","state","selectors","app","_default","injectIntl","connect"],"sources":["../../../../src/editors/sharedComponents/ErrorBoundary/ErrorPage.jsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Container, Row, Col,\n} from '@edx/paragon';\n\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport messages from './messages';\nimport { navigateTo } from '../../hooks';\nimport { selectors } from '../../data/redux';\n\n/**\n * An error page that displays a generic message for unexpected errors.  Also contains a \"Try\n * Again\" button to refresh the page.\n */\nexport const ErrorPage = ({\n  message,\n  studioEndpointUrl,\n  learningContextId,\n  // redux\n  unitData,\n  // injected\n  intl,\n}) => {\n  const outlineType = learningContextId?.startsWith('library-v1') ? 'library' : 'course';\n  const outlineUrl = `${studioEndpointUrl}/${outlineType}/${learningContextId}`;\n  const unitUrl = unitData?.data ? `${studioEndpointUrl}/container/${unitData?.data.ancestors[0].id}` : null;\n\n  return (\n    <Container fluid className=\"py-5 justify-content-center align-items-start text-center\">\n      <Row>\n        <Col>\n          <p className=\"text-muted\">\n            {intl.formatMessage(messages.unexpectedError)}\n          </p>\n          {message && (\n            <div role=\"alert\" className=\"my-4\">\n              <p>{message}</p>\n            </div>\n          )}\n          <Row className=\"justify-content-center\">\n            {learningContextId && (unitUrl && outlineType !== 'library' ? (\n              <Button className=\"mr-2\" variant=\"outline-primary\" onClick={() => navigateTo(unitUrl)}>\n                {intl.formatMessage(messages.returnToUnitPageLabel)}\n              </Button>\n            ) : (\n              <Button className=\"mr-2\" variant=\"outline-primary\" onClick={() => navigateTo(outlineUrl)}>\n                {intl.formatMessage(messages.returnToOutlineLabel, { outlineType })}\n              </Button>\n            ))}\n            <Button className=\"ml-2\" onClick={() => global.location.reload()}>\n              {intl.formatMessage(messages.unexpectedErrorButtonLabel)}\n            </Button>\n          </Row>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nErrorPage.propTypes = {\n  message: PropTypes.string,\n  learningContextId: PropTypes.string.isRequired,\n  studioEndpointUrl: PropTypes.string.isRequired,\n  // redux\n  unitData: PropTypes.shape({\n    data: PropTypes.shape({\n      ancestors: PropTypes.arrayOf(\n        PropTypes.shape({\n          id: PropTypes.string,\n        }),\n      ),\n    }),\n  }),\n  // injected\n  intl: intlShape.isRequired,\n};\n\nErrorPage.defaultProps = {\n  message: null,\n  unitData: null,\n};\n\nexport const mapStateToProps = (state) => ({\n  unitData: selectors.app.unitUrl(state),\n});\n\nexport default injectIntl(connect(mapStateToProps)(ErrorPage));\n"],"mappings":"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"}