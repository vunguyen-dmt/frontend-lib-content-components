{"version":3,"file":"ErrorAlert.js","names":["_react","_interopRequireDefault","require","_propTypes","_paragon","_icons","_i18n","_messages","_jsxRuntime","obj","__esModule","default","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","key","value","_toPropertyKey","configurable","writable","i","_toPrimitive","String","Symbol","toPrimitive","call","TypeError","Number","hooks","exports","state","isDismissed","val","React","useState","dismissalHooks","_ref","dismissError","isError","setIsDismissed","useEffect","dismissAlert","ErrorAlert","_ref2","hideHeading","children","jsxs","Alert","variant","icon","Error","dismissible","onClose","jsx","Heading","FormattedMessage","messages","errorTitle","defaultProps","propTypes","PropTypes","func","bool","isRequired","oneOfType","arrayOf","node","_default"],"sources":["../../../../src/editors/sharedComponents/ErrorAlerts/ErrorAlert.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Alert } from '@openedx/paragon';\nimport { Error } from '@openedx/paragon/icons';\n\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport messages from './messages';\n\nexport const hooks = {\n  state: {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n    isDismissed: (val) => React.useState(val),\n  },\n  dismissalHooks: ({ dismissError, isError }) => {\n    const [isDismissed, setIsDismissed] = hooks.state.isDismissed(false);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(\n      () => {\n        setIsDismissed(isDismissed && !isError);\n      },\n      [isError],\n    );\n    return {\n      isDismissed,\n      dismissAlert: () => {\n        setIsDismissed(true);\n        if (dismissError) {\n          dismissError();\n        }\n      },\n    };\n  },\n};\n\nexport const ErrorAlert = ({\n  dismissError,\n  hideHeading,\n  isError,\n  children,\n}) => {\n  const { isDismissed, dismissAlert } = hooks.dismissalHooks({ dismissError, isError });\n  if (!isError || isDismissed) {\n    return null;\n  }\n  return (\n    <Alert\n      variant=\"danger\"\n      icon={Error}\n      dismissible\n      onClose={dismissAlert}\n    >\n      {!hideHeading\n        && (\n          <Alert.Heading>\n            <FormattedMessage {...messages.errorTitle} />\n          </Alert.Heading>\n        )}\n      {children}\n    </Alert>\n  );\n};\n\nErrorAlert.defaultProps = {\n  dismissError: null,\n  hideHeading: false,\n};\n\nErrorAlert.propTypes = {\n  dismissError: PropTypes.func,\n  hideHeading: PropTypes.bool,\n  isError: PropTypes.bool.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\n\nexport default ErrorAlert;\n"],"mappings":"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"}