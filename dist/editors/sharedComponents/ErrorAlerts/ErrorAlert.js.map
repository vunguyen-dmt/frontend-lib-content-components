{"version":3,"file":"ErrorAlert.js","names":["_react","_interopRequireDefault","require","_propTypes","_paragon","_icons","_i18n","_messages","_jsxRuntime","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","hooks","state","isDismissed","val","React","useState","dismissalHooks","_ref","dismissError","isError","setIsDismissed","useEffect","dismissAlert","exports","ErrorAlert","_ref2","hideHeading","children","jsxs","Alert","variant","icon","Error","dismissible","onClose","jsx","Heading","FormattedMessage","messages","errorTitle","defaultProps","propTypes","PropTypes","func","bool","isRequired","oneOfType","arrayOf","node","_default"],"sources":["../../../../src/editors/sharedComponents/ErrorAlerts/ErrorAlert.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Alert } from '@edx/paragon';\nimport { Error } from '@edx/paragon/icons';\n\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport messages from './messages';\n\nexport const hooks = {\n  state: {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n    isDismissed: (val) => React.useState(val),\n  },\n  dismissalHooks: ({ dismissError, isError }) => {\n    const [isDismissed, setIsDismissed] = hooks.state.isDismissed(false);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(\n      () => {\n        setIsDismissed(isDismissed && !isError);\n      },\n      [isError],\n    );\n    return {\n      isDismissed,\n      dismissAlert: () => {\n        setIsDismissed(true);\n        if (dismissError) {\n          dismissError();\n        }\n      },\n    };\n  },\n};\n\nexport const ErrorAlert = ({\n  dismissError,\n  hideHeading,\n  isError,\n  children,\n}) => {\n  const { isDismissed, dismissAlert } = hooks.dismissalHooks({ dismissError, isError });\n  if (!isError || isDismissed) {\n    return null;\n  }\n  return (\n    <Alert\n      variant=\"danger\"\n      icon={Error}\n      dismissible\n      onClose={dismissAlert}\n    >\n      {!hideHeading\n        && (\n          <Alert.Heading>\n            <FormattedMessage {...messages.errorTitle} />\n          </Alert.Heading>\n        )}\n      {children}\n    </Alert>\n  );\n};\n\nErrorAlert.defaultProps = {\n  dismissError: null,\n  hideHeading: false,\n};\n\nErrorAlert.propTypes = {\n  dismissError: PropTypes.func,\n  hideHeading: PropTypes.bool,\n  isError: PropTypes.bool.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\n\nexport default ErrorAlert;\n"],"mappings":"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"}