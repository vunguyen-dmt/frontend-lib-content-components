{"version":3,"file":"index.js","names":["_react","_interopRequireDefault","require","_reactRedux","_propTypes","_i18n","_paragon","_redux","_CollapsibleFormWidget","_messages","hooks","_interopRequireWildcard","_jsxRuntime","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","obj","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","key","value","_toPropertyKey","configurable","writable","_toPrimitive","String","Symbol","toPrimitive","TypeError","Number","SocialShareWidget","_ref","intl","allowVideoSharing","isLibrary","videoSharingEnabledForAll","videoSharingEnabledForCourse","videoSharingLearnMoreLink","updateField","isSetByCourse","level","videoSharingEnabled","learnMoreLink","onSocialSharingCheckboxChange","useTrackSocialSharingChange","getSubtitle","formatMessage","messages","enabledSubtitle","disabledSubtitle","jsxs","fontSize","title","subtitle","children","jsx","FormattedMessage","socialSharingDescription","Form","Checkbox","className","checked","disabled","onChange","socialSharingCheckboxLabel","Fragment","overrideSocialSharingNote","disclaimerSettingLocation","Hyperlink","destination","target","learnMoreLinkLabel","exports","defaultProps","propTypes","intlShape","isRequired","PropTypes","shape","string","bool","func","mapStateToProps","state","selectors","video","app","mapDispatchToProps","dispatch","stateUpdate","actions","_default","injectIntl","connect"],"sources":["../../../../../../../../src/editors/containers/VideoEditor/components/VideoSettingsModal/components/SocialShareWidget/index.jsx"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n  FormattedMessage,\n  injectIntl,\n  intlShape,\n} from '@edx/frontend-platform/i18n';\nimport {\n  Hyperlink,\n  Form,\n} from '@openedx/paragon';\n\nimport { selectors, actions } from '../../../../../../data/redux';\nimport CollapsibleFormWidget from '../CollapsibleFormWidget';\nimport messages from './messages';\nimport * as hooks from './hooks';\n\n/**\n * Collapsible Form widget controlling video thumbnail\n */\nexport const SocialShareWidget = ({\n  // injected\n  intl,\n  // redux\n  allowVideoSharing,\n  isLibrary,\n  videoSharingEnabledForAll,\n  videoSharingEnabledForCourse,\n  videoSharingLearnMoreLink,\n  updateField,\n}) => {\n  const isSetByCourse = allowVideoSharing.level === 'course';\n  const videoSharingEnabled = isLibrary ? videoSharingEnabledForAll : videoSharingEnabledForCourse;\n  const learnMoreLink = videoSharingLearnMoreLink || 'http://edx.readthedocs.io/projects/open-edx-building-and-running-a-course/en/latest/developing_course/social_sharing.html';\n  const onSocialSharingCheckboxChange = hooks.useTrackSocialSharingChange({ updateField });\n\n  const getSubtitle = () => {\n    if (allowVideoSharing.value) {\n      return intl.formatMessage(messages.enabledSubtitle);\n    }\n    return intl.formatMessage(messages.disabledSubtitle);\n  };\n\n  return (videoSharingEnabled ? (\n    <CollapsibleFormWidget\n      fontSize=\"x-small\"\n      title={intl.formatMessage(messages.title)}\n      subtitle={getSubtitle()}\n    >\n      <div>\n        <FormattedMessage {...messages.socialSharingDescription} />\n      </div>\n      <Form.Checkbox\n        className=\"mt-3\"\n        checked={allowVideoSharing.value}\n        disabled={isSetByCourse}\n        onChange={onSocialSharingCheckboxChange}\n      >\n        <div className=\"small text-gray-700\">\n          {intl.formatMessage(messages.socialSharingCheckboxLabel)}\n        </div>\n      </Form.Checkbox>\n      {isSetByCourse && (\n        <>\n          <div className=\"mt-2\">\n            <FormattedMessage {...messages.overrideSocialSharingNote} />\n          </div>\n          <div>\n            <FormattedMessage {...messages.disclaimerSettingLocation} />\n          </div>\n        </>\n      )}\n      <div className=\"mt-3\">\n        <Hyperlink className=\"text-primary-500\" destination={learnMoreLink} target=\"_blank\">\n          {intl.formatMessage(messages.learnMoreLinkLabel)}\n        </Hyperlink>\n      </div>\n    </CollapsibleFormWidget>\n  ) : null);\n};\n\nSocialShareWidget.defaultProps = {\n  allowVideoSharing: {\n    level: 'block',\n    value: false,\n  },\n  videoSharingEnabledForCourse: false,\n  videoSharingEnabledForAll: false,\n};\n\nSocialShareWidget.propTypes = {\n  // injected\n  intl: intlShape.isRequired,\n  // redux\n  allowVideoSharing: PropTypes.shape({\n    level: PropTypes.string.isRequired,\n    value: PropTypes.bool.isRequired,\n  }),\n  isLibrary: PropTypes.bool.isRequired,\n  videoSharingEnabledForAll: PropTypes.bool,\n  videoSharingEnabledForCourse: PropTypes.bool,\n  videoSharingLearnMoreLink: PropTypes.string.isRequired,\n  updateField: PropTypes.func.isRequired,\n};\n\nexport const mapStateToProps = (state) => ({\n  allowVideoSharing: selectors.video.allowVideoSharing(state),\n  isLibrary: selectors.app.isLibrary(state),\n  videoSharingLearnMoreLink: selectors.video.videoSharingLearnMoreLink(state),\n  videoSharingEnabledForAll: selectors.video.videoSharingEnabledForAll(state),\n  videoSharingEnabledForCourse: selectors.video.videoSharingEnabledForCourse(state),\n});\n\nexport const mapDispatchToProps = (dispatch) => ({\n  updateField: (stateUpdate) => dispatch(actions.video.updateField(stateUpdate)),\n});\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(SocialShareWidget));\n"],"mappings":"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"}