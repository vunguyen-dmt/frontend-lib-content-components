{"version":3,"file":"pluginConfig.js","names":["_utils","require","_tinyMCE","mapToolbars","toolbars","map","toolbar","join","pluginConfig","_ref","isLibrary","placeholder","editorType","image","plugins","imageTools","imagetools","imageUploadButton","buttons","editImageSettings","codePlugin","code","codeButton","labelButton","customLabelButton","quickToolbar","quickbars","inline","defaultFormat","StrictDict","link","lists","codesample","emoticons","table","hr","charmap","autoresize","a11ychecker","powerpaste","embediframe","media","menubar","undo","redo","formatSelect","fontselect","fontsizeselect","bold","italic","underline","strikethrough","foreColor","backColor","align","left","center","right","justify","bullist","numlist","outdent","indent","unlink","blockQuote","codeBlock","wirisMathType","wirisChemType","removeFormat","a11ycheck","imageToolbar","quickbarsInsertToolbar","quickbarsSelectionToolbar","config","branding","height","toolbar_mode","toolbar_sticky","toolbar_sticky_offset","relative_urls","convert_urls","block_formats","forced_root_block","powerpaste_allow_local_images","powerpaste_word_import","powerpaste_html_import","powerpaste_googledoc_import","external_plugins","tiny_mce_wiris","draggable_modal","audio_template_callback","data","source","video_template_callback","reject","msg","file_browser_callback_types","_default","exports","default"],"sources":["../../../../src/editors/sharedComponents/TinyMceWidget/pluginConfig.js"],"sourcesContent":["import { StrictDict } from '../../utils';\nimport { buttons, plugins } from '../../data/constants/tinyMCE';\n\nconst mapToolbars = toolbars => toolbars.map(toolbar => toolbar.join(' ')).join(' | ');\n\nconst pluginConfig = ({ isLibrary, placeholder, editorType }) => {\n  const image = isLibrary ? '' : plugins.image;\n  const imageTools = isLibrary ? '' : plugins.imagetools;\n  const imageUploadButton = isLibrary ? '' : buttons.imageUploadButton;\n  const editImageSettings = isLibrary ? '' : buttons.editImageSettings;\n  const codePlugin = editorType === 'text' ? plugins.code : '';\n  const codeButton = editorType === 'text' ? buttons.code : '';\n  const labelButton = editorType === 'question' ? buttons.customLabelButton : '';\n  const quickToolbar = editorType === 'expandable' ? plugins.quickbars : '';\n  const inline = editorType === 'expandable';\n  const toolbar = editorType !== 'expandable';\n  const defaultFormat = (editorType === 'question' || editorType === 'expandable') ? 'div' : 'p';\n\n  return (\n    StrictDict({\n      plugins: [\n        plugins.link,\n        plugins.lists,\n        plugins.codesample,\n        plugins.emoticons,\n        plugins.table,\n        plugins.hr,\n        plugins.charmap,\n        codePlugin,\n        plugins.autoresize,\n        image,\n        imageTools,\n        quickToolbar,\n        plugins.a11ychecker,\n        plugins.powerpaste,\n        plugins.embediframe,\n        plugins.media\n      ].join(' '),\n      menubar: false,\n      toolbar: toolbar ? mapToolbars([\n        [buttons.undo, buttons.redo],\n        [buttons.formatSelect],\n        [buttons.fontselect],\n        [buttons.fontsizeselect],\n        [labelButton],\n        [buttons.bold, buttons.italic, buttons.underline, buttons.strikethrough, buttons.foreColor, buttons.backColor],\n        [\n          buttons.align.left,\n          buttons.align.center,\n          buttons.align.right,\n          buttons.align.justify,\n        ],\n        [\n          buttons.bullist,\n          buttons.numlist,\n          buttons.outdent,\n          buttons.indent,\n        ],\n        [buttons.image, buttons.media, buttons.link, buttons.unlink, buttons.blockQuote, buttons.codeBlock],\n        [buttons.table, buttons.emoticons, buttons.charmap, buttons.wirisMathType, buttons.wirisChemType, buttons.hr],\n        [buttons.removeFormat, codeButton, buttons.a11ycheck, buttons.embediframe],\n      ]) : false,\n      // imageToolbar: mapToolbars([\n      //   // [buttons.rotate.left, buttons.rotate.right],\n      //   // [buttons.flip.horiz, buttons.flip.vert],\n      //   [editImageSettings],\n      // ]),\n      imageToolbar: false,\n      quickbarsInsertToolbar: toolbar ? false : mapToolbars([\n        [buttons.undo, buttons.redo],\n        [buttons.formatSelect],\n        [buttons.fontselect],\n        [buttons.fontsizeselect],\n        [buttons.bold, buttons.italic, buttons.underline, buttons.foreColor],\n        [\n          buttons.align.justify,\n          buttons.bullist,\n          buttons.numlist,\n        ],\n        [buttons.image, buttons.media, buttons.blockQuote, buttons.codeBlock],\n        [buttons.table, buttons.emoticons, buttons.charmap, buttons.wirisMathType, buttons.wirisChemType, buttons.removeFormat, buttons.a11ycheck],\n      ]),\n      quickbarsSelectionToolbar: toolbar ? false : mapToolbars([\n        [buttons.undo, buttons.redo],\n        [buttons.formatSelect],\n        [buttons.fontselect],\n        [buttons.fontsizeselect],\n        [buttons.bold, buttons.italic, buttons.underline, buttons.foreColor],\n        [\n          buttons.align.justify,\n          buttons.bullist,\n          buttons.numlist,\n        ],\n        [buttons.image, buttons.media, buttons.blockQuote, buttons.codeBlock],\n        [buttons.table, buttons.emoticons, buttons.charmap, buttons.wirisMathType, buttons.wirisChemType, buttons.removeFormat, buttons.a11ycheck],\n      ]),\n      config: {\n        branding: false,\n        height: '100%',\n        menubar: false,\n        toolbar_mode: 'sliding',\n        toolbar_sticky: true,\n        toolbar_sticky_offset: 76,\n        relative_urls: true,\n        convert_urls: false,\n        placeholder,\n        inline,\n        block_formats: 'Header 1=h1;Header 2=h2;Header 3=h3;Header 4=h4;Header 5=h5;Header 6=h6;Div=div;Paragraph=p;Preformatted=pre',\n        forced_root_block: defaultFormat,\n        powerpaste_allow_local_images: true,\n        powerpaste_word_import: 'prompt',\n        powerpaste_html_import: 'prompt',\n        powerpaste_googledoc_import: 'prompt',\n        external_plugins: { tiny_mce_wiris: 'https://www.wiris.net/demo/plugins/tiny_mce/plugin.js' },\n        draggable_modal: true,\n      },\n      audio_template_callback: function(data) {\n        return `<audio controls=\"controls\"><source src=\"${data.source}\" /></audio>`;\n      },\n      video_template_callback: function(data) {\n        reject({msg: 'Vui lòng sử dụng thành phần Video. Please use Video component instead.'});\n        return \"\";\n      },\n      file_browser_callback_types: false\n    })\n  );\n};\n\nexport default pluginConfig;\n"],"mappings":"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"}