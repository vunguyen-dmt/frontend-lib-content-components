{"version":3,"file":"hooks.test.js","names":["_react","_interopRequireDefault","require","_module","_interopRequireWildcard","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","obj","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","key","value","_toPropertyKey","configurable","writable","_toPrimitive","String","Symbol","toPrimitive","TypeError","Number","jest","mock","requireActual","useRef","fn","val","current","useEffect","useCallback","cb","prereqs","describe","mockContent","mockSetContent","mockEditorRef","setContent","getContent","mockClose","test","mockRef","state","doc","input","ref","editorRef","close","resultProps","module","getSaveBtnProps","onClick","expect","toHaveBeenCalledWith","toHaveBeenCalled","props","spyRef","spyOn","React","mockReturnValueOnce","mockButton","spyButtons","mockImplementation","result","prepareSourceCodeModal","toStrictEqual","saveBtnProps"],"sources":["../../../../src/editors/sharedComponents/SourceCodeModal/hooks.test.js"],"sourcesContent":["import React from 'react';\n\nimport * as module from './hooks';\n\njest.mock('react', () => ({\n  ...jest.requireActual('react'),\n  useRef: jest.fn(val => ({ current: val })),\n  useEffect: jest.fn(),\n  useCallback: (cb, prereqs) => ({ cb, prereqs }),\n}));\n\ndescribe('SourceCodeModal hooks', () => {\n  const mockContent = 'sOmEMockHtML';\n  const mockSetContent = jest.fn();\n  const mockEditorRef = {\n    current:\n          {\n            setContent: mockSetContent,\n            getContent: jest.fn(() => mockContent),\n          },\n  };\n  const mockClose = jest.fn();\n  test('getSaveBtnProps', () => {\n    const mockRef = {\n      current: {\n        state: {\n          doc: mockContent,\n        },\n      },\n    };\n    const input = {\n      ref: mockRef,\n      editorRef: mockEditorRef,\n      close: mockClose,\n    };\n    const resultProps = module.getSaveBtnProps(input);\n    resultProps.onClick();\n    expect(mockSetContent).toHaveBeenCalledWith(mockContent);\n    expect(mockClose).toHaveBeenCalled();\n  });\n\n  test('prepareSourceCodeModal', () => {\n    const props = {\n      close: mockClose,\n      editorRef: mockEditorRef,\n    };\n    const mockRef = { current: 'rEf' };\n    const spyRef = jest.spyOn(React, 'useRef').mockReturnValueOnce(mockRef);\n    const mockButton = 'mOcKBuTton';\n\n    const spyButtons = jest.spyOn(module, 'getSaveBtnProps').mockImplementation(\n      () => mockButton,\n    );\n\n    const result = module.prepareSourceCodeModal(props);\n    expect(spyRef).toHaveBeenCalled();\n    expect(spyButtons).toHaveBeenCalled();\n    expect(result).toStrictEqual({ saveBtnProps: mockButton, value: mockEditorRef.current.getContent(), ref: mockRef });\n  });\n});\n"],"mappings":"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"}