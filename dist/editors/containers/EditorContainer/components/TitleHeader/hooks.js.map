{"version":3,"file":"hooks.js","names":["_react","_interopRequireDefault","require","_reactRedux","_redux","textEditorHooks","_interopRequireWildcard","_module","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","navigateCallback","exports","state","localTitle","args","React","useState","hooks","isEditing","setIsEditing","startEditing","stopEditing","_ref","dispatch","title","useSelector","selectors","app","displayTitle","setLocalTitle","module","updateTitle","e","length","currentTarget","contains","relatedTarget","actions","setBlockTitle","handleChange","target","value","cancelEdit","localTitleHooks","_ref2","inputRef","createRef"],"sources":["../../../../../../src/editors/containers/EditorContainer/components/TitleHeader/hooks.js"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { actions, selectors } from '../../../../data/redux';\nimport * as textEditorHooks from '../../hooks';\nimport * as module from './hooks';\n\nexport const { navigateCallback } = textEditorHooks;\n\nexport const state = {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  localTitle: (args) => React.useState(args),\n};\n\nexport const hooks = {\n  isEditing: () => {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n    const [isEditing, setIsEditing] = React.useState(false);\n    return {\n      isEditing,\n      startEditing: () => setIsEditing(true),\n      stopEditing: () => setIsEditing(false),\n    };\n  },\n\n  localTitle: ({ dispatch, stopEditing }) => {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n    const title = useSelector(selectors.app.displayTitle);\n    const [localTitle, setLocalTitle] = module.state.localTitle(title);\n    return {\n      updateTitle: (e) => {\n        if (localTitle.length <= 0) {\n          setLocalTitle(title);\n          stopEditing();\n        } else if (!e.currentTarget.contains(e.relatedTarget)) {\n          dispatch(actions.app.setBlockTitle(localTitle));\n          stopEditing();\n        }\n      },\n      handleChange: (e) => setLocalTitle(e.target.value),\n      cancelEdit: () => {\n        setLocalTitle(title);\n        stopEditing();\n      },\n      localTitle,\n    };\n  },\n};\n\nexport const localTitleHooks = ({ dispatch }) => {\n  const { isEditing, startEditing, stopEditing } = module.hooks.isEditing();\n  const {\n    localTitle,\n    handleChange,\n    updateTitle,\n    cancelEdit,\n  } = module.hooks.localTitle({\n    dispatch,\n    stopEditing,\n  });\n  return {\n    isEditing,\n    startEditing,\n    stopEditing,\n    cancelEdit,\n    localTitle,\n    updateTitle,\n    handleChange,\n\n    inputRef: React.createRef(),\n  };\n};\n"],"mappings":"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"}