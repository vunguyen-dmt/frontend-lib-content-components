{"version":3,"file":"index.js","names":["_propTypes","_interopRequireDefault","require","_reactRedux","_hooks","_utils","_SelectionModal","_messages","_requests","_redux","_jsxRuntime","obj","__esModule","default","SelectImageModal","_ref","isOpen","close","setSelection","clearSelection","images","isLoaded","isFetchError","isUploadError","galleryError","inputError","fileInput","galleryProps","searchSortProps","selectBtnProps","hooks","imgHooks","current","modalMessages","confirmMsg","messages","nextButtonLabel","titleMsg","titleLabel","uploadButtonMsg","uploadButtonLabel","fetchError","fetchImagesError","uploadError","uploadImageError","jsx","acceptedFiles","acceptedImgKeys","exports","propTypes","PropTypes","bool","isRequired","func","arrayOf","string","mapStateToProps","state","selectors","requests","isFinished","requestKey","RequestKeys","fetchAssets","isFailed","uploadAsset","mapDispatchToProps","_default","connect"],"sources":["../../../../../src/editors/sharedComponents/ImageUploadModal/SelectImageModal/index.jsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport hooks from './hooks';\nimport { acceptedImgKeys } from './utils';\nimport SelectionModal from '../../SelectionModal';\nimport messages from './messages';\nimport { RequestKeys } from '../../../data/constants/requests';\nimport { selectors } from '../../../data/redux';\n\nexport const SelectImageModal = ({\n  isOpen,\n  close,\n  setSelection,\n  clearSelection,\n  images,\n  // redux\n  isLoaded,\n  isFetchError,\n  isUploadError,\n}) => {\n  const {\n    galleryError,\n    inputError,\n    fileInput,\n    galleryProps,\n    searchSortProps,\n    selectBtnProps,\n  } = hooks.imgHooks({ setSelection, clearSelection, images: images.current });\n\n  const modalMessages = {\n    confirmMsg: messages.nextButtonLabel,\n    titleMsg: messages.titleLabel,\n    uploadButtonMsg: messages.uploadButtonLabel,\n    fetchError: messages.fetchImagesError,\n    uploadError: messages.uploadImageError,\n  };\n\n  return (\n    <SelectionModal\n      {...{\n        isOpen,\n        close,\n        galleryError,\n        inputError,\n        fileInput,\n        galleryProps,\n        searchSortProps,\n        selectBtnProps,\n        acceptedFiles: acceptedImgKeys,\n        modalMessages,\n        isLoaded,\n        isFetchError,\n        isUploadError,\n      }}\n    />\n  );\n};\n\nSelectImageModal.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  close: PropTypes.func.isRequired,\n  setSelection: PropTypes.func.isRequired,\n  clearSelection: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.string).isRequired,\n  // redux\n  isLoaded: PropTypes.bool.isRequired,\n  isFetchError: PropTypes.bool.isRequired,\n  isUploadError: PropTypes.bool.isRequired,\n};\n\nexport const mapStateToProps = (state) => ({\n  isLoaded: selectors.requests.isFinished(state, { requestKey: RequestKeys.fetchAssets }),\n  isFetchError: selectors.requests.isFailed(state, { requestKey: RequestKeys.fetchAssets }),\n  isUploadError: selectors.requests.isFailed(state, { requestKey: RequestKeys.uploadAsset }),\n});\n\nexport const mapDispatchToProps = {};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectImageModal);\n"],"mappings":"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"}