{"version":3,"file":"hooks.js","names":["_react","_interopRequireDefault","require","_reactRedux","_redux","textEditorHooks","_interopRequireWildcard","_module","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","obj","navigateCallback","exports","state","localTitle","args","React","useState","hooks","isEditing","setIsEditing","startEditing","stopEditing","_ref","dispatch","title","useSelector","selectors","app","displayTitle","setLocalTitle","module","updateTitle","length","currentTarget","contains","relatedTarget","actions","setBlockTitle","handleChange","target","value","cancelEdit","localTitleHooks","_ref2","inputRef","createRef"],"sources":["../../../../../../src/editors/containers/EditorContainer/components/TitleHeader/hooks.js"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { actions, selectors } from '../../../../data/redux';\nimport * as textEditorHooks from '../../hooks';\nimport * as module from './hooks';\n\nexport const { navigateCallback } = textEditorHooks;\n\nexport const state = {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  localTitle: (args) => React.useState(args),\n};\n\nexport const hooks = {\n  isEditing: () => {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n    const [isEditing, setIsEditing] = React.useState(false);\n    return {\n      isEditing,\n      startEditing: () => setIsEditing(true),\n      stopEditing: () => setIsEditing(false),\n    };\n  },\n\n  localTitle: ({ dispatch, stopEditing }) => {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n    const title = useSelector(selectors.app.displayTitle);\n    const [localTitle, setLocalTitle] = module.state.localTitle(title);\n    return {\n      updateTitle: (e) => {\n        if (localTitle.length <= 0) {\n          setLocalTitle(title);\n          stopEditing();\n        } else if (!e.currentTarget.contains(e.relatedTarget)) {\n          dispatch(actions.app.setBlockTitle(localTitle));\n          stopEditing();\n        }\n      },\n      handleChange: (e) => setLocalTitle(e.target.value),\n      cancelEdit: () => {\n        setLocalTitle(title);\n        stopEditing();\n      },\n      localTitle,\n    };\n  },\n};\n\nexport const localTitleHooks = ({ dispatch }) => {\n  const { isEditing, startEditing, stopEditing } = module.hooks.isEditing();\n  const {\n    localTitle,\n    handleChange,\n    updateTitle,\n    cancelEdit,\n  } = module.hooks.localTitle({\n    dispatch,\n    stopEditing,\n  });\n  return {\n    isEditing,\n    startEditing,\n    stopEditing,\n    cancelEdit,\n    localTitle,\n    updateTitle,\n    handleChange,\n\n    inputRef: React.createRef(),\n  };\n};\n"],"mappings":"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"}