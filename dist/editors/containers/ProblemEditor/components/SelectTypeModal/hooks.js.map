{"version":3,"file":"hooks.js","names":["_react","require","_problem","_utils","_module","_interopRequireWildcard","_problem2","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","state","exports","StrictDict","selected","val","useState","selectHooks","setSelected","module","ProblemTypeKeys","SINGLESELECT","onSelect","_ref","updateField","setBlockTitle","values","AdvanceProblemKeys","includes","problemType","ADVANCED","rawOLX","AdvanceProblems","template","title","newOLX","ProblemTypes","_getDataFromOlx","getDataFromOlx","rawSettings","defaultSettings","settings","newState","useArrowNav","detectKeyDown","e","problemTypeValues","prev","document","getElementById","focus","next","useEffect","addEventListener","removeEventListener","_default"],"sources":["../../../../../../src/editors/containers/ProblemEditor/components/SelectTypeModal/hooks.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport {\n  AdvanceProblemKeys, AdvanceProblems, ProblemTypeKeys, ProblemTypes,\n} from '../../../../data/constants/problem';\nimport { StrictDict } from '../../../../utils';\nimport * as module from './hooks';\nimport { getDataFromOlx } from '../../../../data/redux/thunkActions/problem';\n\nexport const state = StrictDict({\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  selected: (val) => useState(val),\n});\n\nexport const selectHooks = () => {\n  const [selected, setSelected] = module.state.selected(ProblemTypeKeys.SINGLESELECT);\n  return {\n    selected,\n    setSelected,\n  };\n};\n\nexport const onSelect = ({ selected, updateField, setBlockTitle }) => () => {\n  if (Object.values(AdvanceProblemKeys).includes(selected)) {\n    updateField({ problemType: ProblemTypeKeys.ADVANCED, rawOLX: AdvanceProblems[selected].template });\n    setBlockTitle(AdvanceProblems[selected].title);\n  } else {\n    const newOLX = ProblemTypes[selected].template;\n    const { settings, ...newState } = getDataFromOlx({ rawOLX: newOLX, rawSettings: {}, defaultSettings: {} });\n    updateField({ ...newState });\n    setBlockTitle(ProblemTypes[selected].title);\n  }\n};\n\nexport const useArrowNav = (selected, setSelected) => {\n  const detectKeyDown = (e) => {\n    const problemTypeValues = Object.values(ProblemTypeKeys);\n    switch (e.key) {\n      case 'ArrowUp':\n        if (problemTypeValues.includes(selected) && ProblemTypes[selected].prev) {\n          setSelected(ProblemTypes[selected].prev);\n          document.getElementById(ProblemTypes[selected].prev).focus();\n        }\n        break;\n      case 'ArrowDown':\n        if (problemTypeValues.includes(selected) && ProblemTypes[selected].next) {\n          setSelected(ProblemTypes[selected].next);\n          document.getElementById(ProblemTypes[selected].next).focus();\n        }\n        break;\n      default:\n    }\n  };\n  useEffect(() => {\n    document.addEventListener('keydown', detectKeyDown, true);\n    return () => {\n      document.removeEventListener('keydown', detectKeyDown, true);\n    };\n  }, [selected, setSelected]);\n};\n\nexport default {\n  state,\n  selectHooks,\n  onSelect,\n  useArrowNav,\n};\n"],"mappings":"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"}