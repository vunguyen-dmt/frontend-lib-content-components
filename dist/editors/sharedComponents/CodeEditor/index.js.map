{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_paragon","_i18n","_messages","hooks","_jsxRuntime","obj","__esModule","default","_getRequireWildcardCache","e","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","key","value","_toPropertyKey","configurable","writable","_toPrimitive","String","Symbol","toPrimitive","TypeError","Number","CodeEditor","_ref","innerRef","lang","intl","DOMref","useRef","btnRef","createCodeMirrorDomNode","ref","initialText","upstreamRef","showBtnEscapeHTML","hideBtn","prepareShowBtnEscapeHTML","jsxs","children","jsx","id","Button","variant","formatMessage","messages","escapeHTMLButtonLabel","onClick","escapeHTMLSpecialChars","FormattedMessage","exports","propTypes","PropTypes","oneOfType","func","shape","current","any","isRequired","string","intlShape","_default","injectIntl"],"sources":["../../../../src/editors/sharedComponents/CodeEditor/index.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Button,\n} from '@openedx/paragon';\n\nimport { FormattedMessage, injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport messages from './messages';\nimport './index.scss';\n\nimport * as hooks from './hooks';\n\nexport const CodeEditor = ({\n  innerRef,\n  value,\n  lang,\n  // injected\n  intl,\n}) => {\n  const DOMref = useRef();\n  const btnRef = useRef();\n  hooks.createCodeMirrorDomNode({\n    ref: DOMref, initialText: value, upstreamRef: innerRef, lang,\n  });\n  const { showBtnEscapeHTML, hideBtn } = hooks.prepareShowBtnEscapeHTML();\n\n  return (\n    <div>\n      <div id=\"CodeMirror\" ref={DOMref} />\n      {showBtnEscapeHTML && (\n        <Button\n          variant=\"tertiary\"\n          aria-label={intl.formatMessage(messages.escapeHTMLButtonLabel)}\n          ref={btnRef}\n          onClick={() => hooks.escapeHTMLSpecialChars({ ref: innerRef, hideBtn })}\n        >\n          <FormattedMessage {...messages.escapeHTMLButtonLabel} />\n        </Button>\n      )}\n    </div>\n  );\n};\n\nCodeEditor.propTypes = {\n  innerRef: PropTypes.oneOfType([\n    PropTypes.func,\n    // eslint-disable-next-line react/forbid-prop-types\n    PropTypes.shape({ current: PropTypes.any }),\n  ]).isRequired,\n  value: PropTypes.string.isRequired,\n  intl: intlShape.isRequired,\n  lang: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(CodeEditor);\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEA,IAAAG,QAAA,GAAAH,OAAA;AAIA,IAAAI,KAAA,GAAAJ,OAAA;AACA,IAAAK,SAAA,GAAAH,sBAAA,CAAAF,OAAA;AACAA,OAAA;AAEA,IAAAM,KAAA,GAAAP,uBAAA,CAAAC,OAAA;AAAiC,IAAAO,WAAA,GAAAP,OAAA;AAAA,SAAAE,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAb,wBAAAa,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAH,UAAA,SAAAG,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAF,OAAA,EAAAE,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAC,GAAA,CAAAJ,CAAA,UAAAG,CAAA,CAAAE,GAAA,CAAAL,CAAA,OAAAM,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAZ,CAAA,oBAAAY,CAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAY,CAAA,SAAAI,CAAA,GAAAR,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAX,CAAA,EAAAY,CAAA,UAAAI,CAAA,KAAAA,CAAA,CAAAX,GAAA,IAAAW,CAAA,CAAAC,GAAA,IAAAR,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAI,CAAA,IAAAV,CAAA,CAAAM,CAAA,IAAAZ,CAAA,CAAAY,CAAA,YAAAN,CAAA,CAAAR,OAAA,GAAAE,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAc,GAAA,CAAAjB,CAAA,EAAAM,CAAA,GAAAA,CAAA;AAAA,SAAAY,QAAAlB,CAAA,EAAAE,CAAA,QAAAC,CAAA,GAAAM,MAAA,CAAAU,IAAA,CAAAnB,CAAA,OAAAS,MAAA,CAAAW,qBAAA,QAAAC,CAAA,GAAAZ,MAAA,CAAAW,qBAAA,CAAApB,CAAA,GAAAE,CAAA,KAAAmB,CAAA,GAAAA,CAAA,CAAAC,MAAA,WAAApB,CAAA,WAAAO,MAAA,CAAAE,wBAAA,CAAAX,CAAA,EAAAE,CAAA,EAAAqB,UAAA,OAAApB,CAAA,CAAAqB,IAAA,CAAAC,KAAA,CAAAtB,CAAA,EAAAkB,CAAA,YAAAlB,CAAA;AAAA,SAAAuB,cAAA1B,CAAA,aAAAE,CAAA,MAAAA,CAAA,GAAAyB,SAAA,CAAAC,MAAA,EAAA1B,CAAA,UAAAC,CAAA,WAAAwB,SAAA,CAAAzB,CAAA,IAAAyB,SAAA,CAAAzB,CAAA,QAAAA,CAAA,OAAAgB,OAAA,CAAAT,MAAA,CAAAN,CAAA,OAAA0B,OAAA,WAAA3B,CAAA,IAAA4B,eAAA,CAAA9B,CAAA,EAAAE,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAO,MAAA,CAAAsB,yBAAA,GAAAtB,MAAA,CAAAuB,gBAAA,CAAAhC,CAAA,EAAAS,MAAA,CAAAsB,yBAAA,CAAA5B,CAAA,KAAAe,OAAA,CAAAT,MAAA,CAAAN,CAAA,GAAA0B,OAAA,WAAA3B,CAAA,IAAAO,MAAA,CAAAC,cAAA,CAAAV,CAAA,EAAAE,CAAA,EAAAO,MAAA,CAAAE,wBAAA,CAAAR,CAAA,EAAAD,CAAA,iBAAAF,CAAA;AAAA,SAAA8B,gBAAAlC,GAAA,EAAAqC,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAArC,GAAA,IAAAa,MAAA,CAAAC,cAAA,CAAAd,GAAA,EAAAqC,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAX,UAAA,QAAAa,YAAA,QAAAC,QAAA,oBAAAzC,GAAA,CAAAqC,GAAA,IAAAC,KAAA,WAAAtC,GAAA;AAAA,SAAAuC,eAAAhC,CAAA,QAAAa,CAAA,GAAAsB,YAAA,CAAAnC,CAAA,uCAAAa,CAAA,GAAAA,CAAA,GAAAuB,MAAA,CAAAvB,CAAA;AAAA,SAAAsB,aAAAnC,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAH,CAAA,GAAAG,CAAA,CAAAqC,MAAA,CAAAC,WAAA,kBAAAzC,CAAA,QAAAgB,CAAA,GAAAhB,CAAA,CAAAe,IAAA,CAAAZ,CAAA,EAAAD,CAAA,uCAAAc,CAAA,SAAAA,CAAA,YAAA0B,SAAA,yEAAAxC,CAAA,GAAAqC,MAAA,GAAAI,MAAA,EAAAxC,CAAA;AAE1B,MAAMyC,UAAU,GAAGC,IAAA,IAMpB;EAAA,IANqB;IACzBC,QAAQ;IACRZ,KAAK;IACLa,IAAI;IACJ;IACAC;EACF,CAAC,GAAAH,IAAA;EACC,MAAMI,MAAM,GAAG,IAAAC,aAAM,EAAC,CAAC;EACvB,MAAMC,MAAM,GAAG,IAAAD,aAAM,EAAC,CAAC;EACvBxD,KAAK,CAAC0D,uBAAuB,CAAC;IAC5BC,GAAG,EAAEJ,MAAM;IAAEK,WAAW,EAAEpB,KAAK;IAAEqB,WAAW,EAAET,QAAQ;IAAEC;EAC1D,CAAC,CAAC;EACF,MAAM;IAAES,iBAAiB;IAAEC;EAAQ,CAAC,GAAG/D,KAAK,CAACgE,wBAAwB,CAAC,CAAC;EAEvE,oBACE,IAAA/D,WAAA,CAAAgE,IAAA;IAAAC,QAAA,gBACE,IAAAjE,WAAA,CAAAkE,GAAA;MAAKC,EAAE,EAAC,YAAY;MAACT,GAAG,EAAEJ;IAAO,CAAE,CAAC,EACnCO,iBAAiB,iBAChB,IAAA7D,WAAA,CAAAkE,GAAA,EAACtE,QAAA,CAAAwE,MAAM;MACLC,OAAO,EAAC,UAAU;MAClB,cAAYhB,IAAI,CAACiB,aAAa,CAACC,iBAAQ,CAACC,qBAAqB,CAAE;MAC/Dd,GAAG,EAAEF,MAAO;MACZiB,OAAO,EAAEA,CAAA,KAAM1E,KAAK,CAAC2E,sBAAsB,CAAC;QAAEhB,GAAG,EAAEP,QAAQ;QAAEW;MAAQ,CAAC,CAAE;MAAAG,QAAA,eAExE,IAAAjE,WAAA,CAAAkE,GAAA,EAACrE,KAAA,CAAA8E,gBAAgB,EAAA5C,aAAA,KAAKwC,iBAAQ,CAACC,qBAAqB,CAAG;IAAC,CAClD,CACT;EAAA,CACE,CAAC;AAEV,CAAC;AAACI,OAAA,CAAA3B,UAAA,GAAAA,UAAA;AAEFA,UAAU,CAAC4B,SAAS,GAAG;EACrB1B,QAAQ,EAAE2B,kBAAS,CAACC,SAAS,CAAC,CAC5BD,kBAAS,CAACE,IAAI;EACd;EACAF,kBAAS,CAACG,KAAK,CAAC;IAAEC,OAAO,EAAEJ,kBAAS,CAACK;EAAI,CAAC,CAAC,CAC5C,CAAC,CAACC,UAAU;EACb7C,KAAK,EAAEuC,kBAAS,CAACO,MAAM,CAACD,UAAU;EAClC/B,IAAI,EAAEiC,eAAS,CAACF,UAAU;EAC1BhC,IAAI,EAAE0B,kBAAS,CAACO,MAAM,CAACD;AACzB,CAAC;AAAC,IAAAG,QAAA,GAAAX,OAAA,CAAAzE,OAAA,GAEa,IAAAqF,gBAAU,EAACvC,UAAU,CAAC"}