{"version":3,"file":"hooks.js","names":["_react","require","_problem","_utils","_module","_interopRequireWildcard","_problem2","_excluded","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","key","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","state","exports","StrictDict","selected","val","useState","selectHooks","setSelected","module","ProblemTypeKeys","SINGLESELECT","onSelect","_ref","updateField","setBlockTitle","values","AdvanceProblemKeys","includes","problemType","ADVANCED","rawOLX","AdvanceProblems","template","title","newOLX","ProblemTypes","_getDataFromOlx","getDataFromOlx","rawSettings","defaultSettings","settings","newState","useArrowNav","detectKeyDown","problemTypeValues","prev","document","getElementById","focus","next","useEffect","addEventListener","removeEventListener","_default"],"sources":["../../../../../../src/editors/containers/ProblemEditor/components/SelectTypeModal/hooks.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport {\n  AdvanceProblemKeys, AdvanceProblems, ProblemTypeKeys, ProblemTypes,\n} from '../../../../data/constants/problem';\nimport { StrictDict } from '../../../../utils';\nimport * as module from './hooks';\nimport { getDataFromOlx } from '../../../../data/redux/thunkActions/problem';\n\nexport const state = StrictDict({\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  selected: (val) => useState(val),\n});\n\nexport const selectHooks = () => {\n  const [selected, setSelected] = module.state.selected(ProblemTypeKeys.SINGLESELECT);\n  return {\n    selected,\n    setSelected,\n  };\n};\n\nexport const onSelect = ({ selected, updateField, setBlockTitle }) => () => {\n  if (Object.values(AdvanceProblemKeys).includes(selected)) {\n    updateField({ problemType: ProblemTypeKeys.ADVANCED, rawOLX: AdvanceProblems[selected].template });\n    setBlockTitle(AdvanceProblems[selected].title);\n  } else {\n    const newOLX = ProblemTypes[selected].template;\n    const { settings, ...newState } = getDataFromOlx({ rawOLX: newOLX, rawSettings: {}, defaultSettings: {} });\n    updateField({ ...newState });\n    setBlockTitle(ProblemTypes[selected].title);\n  }\n};\n\nexport const useArrowNav = (selected, setSelected) => {\n  const detectKeyDown = (e) => {\n    const problemTypeValues = Object.values(ProblemTypeKeys);\n    switch (e.key) {\n      case 'ArrowUp':\n        if (problemTypeValues.includes(selected) && ProblemTypes[selected].prev) {\n          setSelected(ProblemTypes[selected].prev);\n          document.getElementById(ProblemTypes[selected].prev).focus();\n        }\n        break;\n      case 'ArrowDown':\n        if (problemTypeValues.includes(selected) && ProblemTypes[selected].next) {\n          setSelected(ProblemTypes[selected].next);\n          document.getElementById(ProblemTypes[selected].next).focus();\n        }\n        break;\n      default:\n    }\n  };\n  useEffect(() => {\n    document.addEventListener('keydown', detectKeyDown, true);\n    return () => {\n      document.removeEventListener('keydown', detectKeyDown, true);\n    };\n  }, [selected, setSelected]);\n};\n\nexport default {\n  state,\n  selectHooks,\n  onSelect,\n  useArrowNav,\n};\n"],"mappings":"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"}