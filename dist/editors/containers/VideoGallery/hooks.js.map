{"version":3,"file":"hooks.js","names":["_react","_interopRequireDefault","require","_reactRedux","_module","_interopRequireWildcard","_messages","appHooks","_redux","_analyticsEvt","_utils","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","navigateCallback","navigateTo","exports","state","highlighted","val","React","useState","searchString","showSelectVideoError","showSizeError","sortBy","filertBy","hideSelectedVideos","searchAndSortProps","setSearchString","module","setSortBy","sortKeys","dateNewest","filterBy","setFilterBy","filterKeys","videoStatus","setHideSelectedVideos","onSearchChange","e","clearSearchString","onSortClick","sortMessages","onFilterClick","filterMessages","showSwitch","switchMessage","messages","hideSelectedCourseVideosSwitchLabel","onSwitchClick","filterListBySearch","_ref","videoList","_ref2","displayName","toLowerCase","includes","filterListByStatus","_ref3","statusFilter","_ref4","status","filterListByHideSelectedCourse","_ref5","filterList","_ref6","videos","filteredList","sort","sortFunctions","videoListProps","_ref7","searchSortProps","setHighlighted","setShowSelectVideoError","setShowSizeError","learningContextId","useSelector","selectors","app","blockId","galleryError","show","dismiss","message","selectVideoError","inputError","fileSizeError","galleryProps","galleryIsEmpty","searchIsEmpty","displayList","onHighlightChange","emptyGalleryLabel","showIdsOnCards","height","selectBtnProps","onClick","fileInputProps","click","handleVideoUpload","handleCancel","destination","returnUrl","analytics","analyticsEvent","analyticsEvt","videoGalleryCancelClick","buildVideos","_ref8","rawVideos","rawVideoList","values","map","video","id","edx_video_id","client_video_id","externalUrl","course_video_image_url","dateAdded","created","locked","thumbnail","statusBadgeVariant","getstatusBadgeVariant","duration","transcripts","_ref9","failed","uploading","processing","videoProps","_ref10","fileInput","_default"],"sources":["../../../../src/editors/containers/VideoGallery/hooks.js"],"sourcesContent":["import React from 'react';\nimport { useSelector } from 'react-redux';\nimport * as module from './hooks';\nimport messages from './messages';\nimport * as appHooks from '../../hooks';\nimport { selectors } from '../../data/redux';\nimport analyticsEvt from '../../data/constants/analyticsEvt';\nimport {\n  filterKeys,\n  filterMessages,\n  sortKeys,\n  sortMessages,\n  sortFunctions,\n} from './utils';\n\nexport const {\n  navigateCallback,\n  navigateTo,\n} = appHooks;\n\nexport const state = {\n  highlighted: (val) => React.useState(val),\n  searchString: (val) => React.useState(val),\n  showSelectVideoError: (val) => React.useState(val),\n  showSizeError: (val) => React.useState(val),\n  sortBy: (val) => React.useState(val),\n  filertBy: (val) => React.useState(val),\n  hideSelectedVideos: (val) => React.useState(val),\n};\n\nexport const searchAndSortProps = () => {\n  const [searchString, setSearchString] = module.state.searchString('');\n  const [sortBy, setSortBy] = module.state.sortBy(sortKeys.dateNewest);\n  const [filterBy, setFilterBy] = module.state.filertBy(filterKeys.videoStatus);\n  const [hideSelectedVideos, setHideSelectedVideos] = module.state.hideSelectedVideos(false);\n\n  return {\n    searchString,\n    onSearchChange: (e) => setSearchString(e.target.value),\n    clearSearchString: () => setSearchString(''),\n    sortBy,\n    onSortClick: (key) => () => setSortBy(key),\n    sortKeys,\n    sortMessages,\n    filterBy,\n    onFilterClick: (key) => () => setFilterBy(key),\n    filterKeys,\n    filterMessages,\n    showSwitch: true,\n    hideSelectedVideos,\n    switchMessage: messages.hideSelectedCourseVideosSwitchLabel,\n    onSwitchClick: () => setHideSelectedVideos(!hideSelectedVideos),\n  };\n};\n\nexport const filterListBySearch = ({ searchString, videoList }) => (\n  videoList.filter(({ displayName }) => displayName.toLowerCase().includes(searchString.toLowerCase()))\n);\n\nexport const filterListByStatus = ({ statusFilter, videoList }) => {\n  if (statusFilter === filterKeys.videoStatus) {\n    return videoList;\n  }\n  return videoList.filter(({ status }) => status === statusFilter);\n};\n\nexport const filterListByHideSelectedCourse = ({ videoList }) => (\n  // TODO Missing to implement this\n  videoList\n);\n\nexport const filterList = ({\n  sortBy,\n  filterBy,\n  searchString,\n  videos,\n}) => {\n  let filteredList = module.filterListBySearch({\n    searchString,\n    videoList: videos,\n  });\n  filteredList = module.filterListByStatus({\n    statusFilter: filterBy,\n    videoList: filteredList,\n  });\n  filteredList = module.filterListByHideSelectedCourse({\n    videoList: filteredList,\n  });\n  return filteredList.sort(sortFunctions[sortBy in sortKeys ? sortKeys[sortBy] : sortKeys.dateNewest]);\n};\n\nexport const videoListProps = ({ searchSortProps, videos }) => {\n  const [highlighted, setHighlighted] = module.state.highlighted(null);\n  const [\n    showSelectVideoError,\n    setShowSelectVideoError,\n  ] = module.state.showSelectVideoError(false);\n  const [\n    showSizeError,\n    setShowSizeError,\n  ] = module.state.showSizeError(false);\n  const filteredList = module.filterList({ ...searchSortProps, videos });\n  const learningContextId = useSelector(selectors.app.learningContextId);\n  const blockId = useSelector(selectors.app.blockId);\n  return {\n    galleryError: {\n      show: showSelectVideoError,\n      set: () => setShowSelectVideoError(true),\n      dismiss: () => setShowSelectVideoError(false),\n      message: messages.selectVideoError,\n    },\n    // TODO We need to update this message when implementing the video upload screen\n    inputError: {\n      show: showSizeError,\n      set: () => setShowSizeError(true),\n      dismiss: () => setShowSelectVideoError(false),\n      message: messages.fileSizeError,\n    },\n    galleryProps: {\n      galleryIsEmpty: Object.keys(filteredList).length === 0,\n      searchIsEmpty: filteredList.length === 0,\n      displayList: filteredList,\n      highlighted,\n      onHighlightChange: (e) => setHighlighted(e.target.value),\n      emptyGalleryLabel: messages.emptyGalleryLabel,\n      showIdsOnCards: true,\n      height: '100%',\n    },\n    selectBtnProps: {\n      onClick: () => {\n        if (highlighted) {\n          navigateTo(`/course/${learningContextId}/editor/video/${blockId}?selectedVideoId=${highlighted}`);\n        } else {\n          setShowSelectVideoError(true);\n        }\n      },\n    },\n  };\n};\n\nexport const fileInputProps = () => {\n  const click = module.handleVideoUpload();\n  return {\n    click,\n  };\n};\n\nexport const handleVideoUpload = () => {\n  const learningContextId = useSelector(selectors.app.learningContextId);\n  const blockId = useSelector(selectors.app.blockId);\n  return () => navigateTo(`/course/${learningContextId}/editor/video_upload/${blockId}`);\n};\n\nexport const handleCancel = () => (\n  navigateCallback({\n    destination: useSelector(selectors.app.returnUrl),\n    analytics: useSelector(selectors.app.analytics),\n    analyticsEvent: analyticsEvt.videoGalleryCancelClick,\n  })\n);\n\nexport const buildVideos = ({ rawVideos }) => {\n  let videos = [];\n  const rawVideoList = Object.values(rawVideos);\n  if (rawVideoList.length > 0) {\n    videos = rawVideoList.map(video => ({\n      id: video.edx_video_id,\n      displayName: video.client_video_id,\n      externalUrl: video.course_video_image_url,\n      dateAdded: video.created,\n      locked: false,\n      thumbnail: video.course_video_image_url,\n      status: video.status,\n      statusBadgeVariant: module.getstatusBadgeVariant({ status: video.status }),\n      duration: video.duration,\n      transcripts: video.transcripts,\n    }));\n  }\n  return videos;\n};\n\nexport const getstatusBadgeVariant = ({ status }) => {\n  switch (status) {\n    case filterKeys.failed:\n      return 'danger';\n    case filterKeys.uploading:\n    case filterKeys.processing:\n      return 'light';\n    default:\n      return null;\n  }\n};\n\nexport const videoProps = ({ videos }) => {\n  const searchSortProps = module.searchAndSortProps();\n  const videoList = module.videoListProps({ searchSortProps, videos });\n  const {\n    galleryError,\n    galleryProps,\n    inputError,\n    selectBtnProps,\n  } = videoList;\n  const fileInput = module.fileInputProps();\n\n  return {\n    galleryError,\n    inputError,\n    fileInput,\n    galleryProps,\n    searchSortProps,\n    selectBtnProps,\n  };\n};\n\nexport default {\n  videoProps,\n  buildVideos,\n  handleCancel,\n  handleVideoUpload,\n};\n"],"mappings":"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"}