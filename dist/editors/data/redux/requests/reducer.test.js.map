{"version":3,"file":"reducer.test.js","names":["_reducer","require","_requests","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","key","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","describe","test","expect","reducer","toEqual","initialState","arbitraryKey","requestsList","RequestKeys","fetchUnit","fetchBlock","saveBlock","requestKey","testAction","action","args","expected","testingState","arbitraryField","arbitrary","actions","status","RequestStates","pending","completed","failed"],"sources":["../../../../../src/editors/data/redux/requests/reducer.test.js"],"sourcesContent":["import { initialState, actions, reducer } from './reducer';\nimport { RequestStates, RequestKeys } from '../../constants/requests';\n\ndescribe('requests reducer', () => {\n  test('intial state generated on create', () => {\n    expect(reducer(undefined, {})).toEqual(initialState);\n  });\n\n  describe('handling actions', () => {\n    const arbitraryKey = 'ArbItrAryKey';\n    const requestsList = [RequestKeys.fetchUnit, RequestKeys.fetchBlock, RequestKeys.saveBlock, arbitraryKey];\n\n    requestsList.forEach(requestKey => {\n      describe(`${requestKey} lifecycle`, () => {\n        const testAction = (action, args, expected) => {\n          const testingState = {\n            ...initialState,\n            arbitraryField: 'arbitrary',\n            [requestKey]: { arbitrary: 'state' },\n          };\n          expect(reducer(testingState, actions[action](args))).toEqual({\n            ...testingState,\n            [requestKey]: expected,\n          });\n        };\n        test('startRequest sets pending status', () => {\n          testAction('startRequest', requestKey, { status: RequestStates.pending });\n        });\n        test('completeRequest sets completed status and loads response', () => {\n          testAction(\n            'completeRequest',\n            { requestKey },\n            { status: RequestStates.completed },\n          );\n        });\n        test('failRequest sets failed state and loads error', () => {\n          testAction(\n            'failRequest',\n            { requestKey },\n            { status: RequestStates.failed },\n          );\n        });\n        test('clearRequest clears request state', () => {\n          testAction('clearRequest', { requestKey }, {});\n        });\n      });\n    });\n  });\n});\n"],"mappings":"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"}